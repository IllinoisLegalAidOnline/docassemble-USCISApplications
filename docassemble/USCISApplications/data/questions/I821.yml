include:
  - docassemble.AssemblyLine:assembly_line.yml
---
metadata:
  title: >-
    DHS Application for EAD or TPS
  short title: >-
    Apply for EAD or TPS
  description: |-
    This interview helps someone in Illinois apply to the DHS for an Employment Authorization Document (EAD) or Temporary Protected Status (TPS).
  tags:
    - "IM-00-00-00-00"
  authors:
    - Quinten Steenhuis
    - Anthony Danielson
  allowed_courts: []
  typical_role: "na"
  al_weaver_version: "playground"
  generated_on: "2024-02-04"
---
code: |
  # This controls the default country and list of states in address field questions
  AL_DEFAULT_COUNTRY = "US"
---
code: |
  # This controls the default state in address field questions
  AL_DEFAULT_STATE = "IL"
---
code: |
  github_repo_name =  'docassemble-USCISApplications'
---
code: |
  interview_short_title = "Apply for EAD or TPS"
---
code: |
  al_form_type = "other_form" 
---
objects:
  - supervisor: ALIndividual # need?
  - preparer: ALIndividual # need?
  - interpreter: ALIndividual # need?
  - users: ALPeopleList.using(there_are_any=True, complete_attribute='complete')
  - users[i].countries_of_residence: DAList.using(there_is_another=False)
  - users[i].countries_traveled_through: DAList.using(object_type=DAObject, there_are_any=True, there_is_another=False, complete_attribute='entry_date')
  - users[i].prior_immigration_proceedings: DAList.using(object_type=DAObject, there_is_another=False, complete_attribute='jurisdiction')
  - users[i].travel_documents: DAList.using(object_type=DAObject, there_is_another=False, complete_attribute='number')
  - users[i].spouse: ALIndividual # need?
  - users[i].spouse.prior_TPS: DAList.using(object_type=DAObject, there_is_another=False, complete_attribute='start_date') # need?
  - users[i].former_spouses: ALPeopleList.using(ask_number=True) # need?
  - users[i].children: ALPeopleList.using(ask_number=True) # need?
---
sections:
  - review_USCIS_Applications: Review your answers
---
#################### Interview order #####################
comment: |
  Controls order and branching logic for questions specific to this form
id: interview_order_USCISApplications
code: |
  # Set the allowed courts for this interview
  nav.set_section("review_USCISApplications")
  user_role = "na"
  user_ask_role = "na"
  users.gather()
  set_parts(subtitle=str(users))
  ### deleted users attributes, moved to .complete block
  Page_Number_3
  ### deleted users attributes, moved to .complete block
  interpreter.gather()
  signature_date
  preparer.gather()
  set_progress(72)
  interview_order_USCISApplications = True
---
###################### Main order ######################
comment: |
  This block includes the logic for standalone interviews.
  Delete mandatory: True to include in another interview
mandatory: True
code: |
  #al_intro_screen
  #USCISApplications_intro
  interview_order_USCISApplications
  signature_date
  # Store anonymous data for analytics / statistics
  store_variables_snapshot(
      persistent=True,
      data={
          "zip": showifdef("users[0].address.zip"),
          "reached_interview_end": True,
      },
  )
  USCISApplications_download
---
###################### users '.complete' block ######################
comment: |
  This block sets the required attributes and interview order to gather a 'users' object.
code: |
  users[i].name.first
  users[i].approved_limited_scope_agmt
  users[i].is_form_g28_attached
  users[i].birthdate
  users[i].gender
  users[i].address.address
  users[i].address.render
  users[i].countries_of_residence.gather()
  if users[i].countries_of_residence.there_are_any:
    users[i].countries_of_residence_review
  users[i].countries_traveled_through.gather()
  users[i].countries_traveled_through_review
  users[i].prior_immigration_proceedings.gather()
  if users[i].prior_immigration_proceedings.there_are_any:
    users[i].prior_immigration_proceedings_review
  users[i].travel_documents.gather()
  if users[i].travel_documents.there_are_any:
    users[i].travel_documents_review
  users[i].complete = True
---
comment: |
  This question is used to introduce your interview. Please customize
id: USCISApplications intro screen
continue button field: USCISApplications_intro
question: Apply for temporary protected status
subquestion: |
  This interview will help you apply for temporary protected status.
  
  Before you get started, please gather:
  
  1. 
  1. 
  1. 
  
  When you are finished, you will need to:
  
  1. 
  1. 
  
  Most people take about _______ minutes to finish this interview.
---
---
id: applicant's name
sets:
    - users[0].name.first
    - users[0].name.last
    - users[0].name.middle
question:  Applicant's Name
fields:
  - code: |
      users[0].name_fields(show_suffix=False)
---
id: limited scope representation agreement
question: Limited Scope Representation/Assistance Agreement
subquestion: |
  ### LIMITED SCOPE OF SERVICES AND AUTHORIZATION

  The services provided by the Immigration Application Workshop are limited to the information and assistance given today at the workshop. No current or ongoing attorney-client relationship is created by the provision of today’s services.  

  We need to record basic details in order to assist participants with their immigration application. During the brief legal screening meeting, participants are responsible for giving accurate and truthful information. All the information provided to the workshop organizers during this time will remain confidential with exceptions noted below.

  Please review the following to acknowledge understanding and agreement, then sign and date at the bottom of the page:

  1. I understand that the organizations here today will help inform me of my legal rights, help me understand the legal process, and assist me with my immigration application. The organizations or attorneys present today will not serve as my legal representative and will not represent me after today unless explicitly discussed.   

  1. I understand that if I want legal representation for my immigration case, I should look for a legal representative on my own and keep track of all my efforts to find a legal representative so that I can share this information with the immigration judge if I have a court hearing in the future. 

  1. I have voluntarily given my information to the organizations present today and I understand that the information I give about my case may be given to other people for the purposes of assisting me with my work permit application or other immigration benefits for which I may be eligible, and to evaluate and continue with the Immigration Application Workshop. This includes representatives from the city, state, and federal government.  

  1. If additional services become available after this workshop (such as assistance with change of venue for immigration court or asylum), I agree to allow TRP to share my contact information with another nonprofit organization to evaluate whether I can receive additional services. 

  1. I DO NOT consent to the sharing of my information aside from the contexts described above.

  This Scope of Services and Authorization has been explained and/or translated to me in a language I understand.

  ALL OF THE ABOVE IS UNDERSTOOD AND ACKNOWLEDGED

  ##########################################################################################

  Taller de Solicitud de Inmigración
  ALCANCE LIMITADO DE SERVICIOS Y AUTORIZACIÓN

  Los servicios proporcionados por el taller de Documentos de Aplicación de Inmigración (Taller), se limitarán a darle la información y asistirle en el taller de hoy. Los servicios que le demos y brindemos no crea una relación entre usted y nosotros de abogado a cliente, y la asistencia que le brindamos hoy es sólo por hoy.

  Necesitamos registrar detalles básicos para ayudar a los participantes con su solicitud de inmigración. Durante la breve reunión de selección legal, los participantes son responsables de dar información precisa y veraz. Toda la información proporcionada a los organizadores del taller durante este tiempo será confidencial, con las excepciones que se indican a continuación.

  Revise la información a continuación para reconocer la comprensión y el acuerdo, y luego firme y coloque la fecha en la parte inferior de la página:

  Entiendo que las organizaciones están aquí hoy para ayudarme e informarme sobre mis derechos legales, ayudarme a comprender el proceso legal y para ayudarme con mi solicitud de inmigración. Las organizaciones y abogados aquí hoy no sirven como mi representante legal y no me representará después de hoy a menos que se discuta explícitamente.

  Entiendo que si quiero representación legal para mi caso de inmigración, debo buscar un abogado por mi cuenta y hacer un seguimiento de todos mis esfuerzos para encontrar un abogado para poder compartir esta información con el juez de inmigración en mi próxima audiencia judicial.

  He dado voluntariamente mi información a las organizaciones presentes hoy y entiendo que la información que doy sobre mi caso puede ser dada a otras personas con el propósito de ayudarme con mi solicitud de permiso de trabajo u otros beneficios de inmigración para los que puedo ser elegible, y para evaluar y continuar con el taller. Esto incluye representantes de la ciudad, el estado y el gobierno federal.

  Si hay servicios adicionales disponibles después de este taller (como asistencia con el cambio de sede para la corte de inmigración o asilo), acepto permitir que TRP comparta mi información de contacto con otra organización sin fines de lucro para evaluar si puedo recibir servicios adicionales.

  NO doy mi consentimiento para que se comparta mi información fuera de los contextos descritos anteriormente.

  Este Alcance de los Servicios y la Autorización me ha sido explicado y traducido en un idioma que entiendo.

  TODO LO ANTERIOR ES ENTENDIDO Y COMPRENDIDO
fields:
  - Do you consent to xxxxx?": users[i].approved_limited_scope_agmt
    datatype: yesno
---
id: xxxxx
question: xxxxx
fields:
  - "Form *G-28* or *G-28I* is attached": users[i].is_form_g28_attached
    datatype: yesno
  - "Attorney State Bar Number (if applicable)": users[i].attorneys1_bar_number
    maxlength: 19
  - "Attorney or Accredited Representative USCIS Online Account Number (if any)": users[i].attorney_online_account_number
    maxlength: 28
---
########################## Addresses ##########################
id: U.S. physical address
question: Applicant's U.S. Physical Address
fields:
  - Street address: users[0].address.address
    address autocomplete: True
    maxlength: 38
  - Suite/Unit/Floor/Room: users[0].address.unit
    required: False
    maxlength: 28
  - City: users[0].address.city
    maxlength: 28
  - State: users[0].address.state
    code: |
      states_list()
  - ZIP code: users[0].address.zip
    datatype: integer
    maxlength: 5
---
########################## Countries & Places ##########################
---
id: applicant's birthplace
question: Applicant's Birthplace
fields:
  - City/Town/Village: users[i].birthplace_city
    maxlength: 38
  - Country: users[i].birthplace_country
    code: |
      [next(iter(item.values())) for item in countries_list()]
---
id: countries resided in are there any
question: Did Applicant **live** in another country before entering the U.S.?
yesno: users[i].countries_of_residence.there_are_any # the wording of this question is taken from the sample I-821, page 2, question 15. It seems to me this question will almost always be yes, since a person has to "live" somewhere, but perhaps there's a definitional problem here...
---
id: countries resided in
question: Which country or countries did you enter/travel through before entering the U.S.?
subquestion: |
  % if len(users[i].countries_of_residence.complete_elements()):
  **Countries you **lived in** before entering the U.S.:**[BR]
  
  % for country in users[i].countries_of_residence.complete_elements():
  **${ country }**
  % endfor
  
  [NEWLINE]
  % endif
fields:
  - Select a Country: users[i].countries_of_residence[j]
    code: |
      [next(iter(item.values())) for item in countries_list()]
---
id: countries resided in review screen
question: Review the countries you **lived in** before entering the U.S.
subquestion: |
  ${ users[i].countries_of_residence.table }
  ${ users[i].countries_of_residence.add_action(label=bold('Add Another Country'), color='warning') }
continue button field:  users[i].countries_of_residence_review
---
table:  users[i].countries_of_residence.table
rows:  users[i].countries_of_residence
columns:
  - Country: row_item
edit: true
---
id: countries entered or traveled to before US
question: Which country or countries did you enter/travel through before entering the U.S.?
subquestion: |
  % if len(users[i].countries_traveled_through.complete_elements()):
  **Countries you entered/traveled through before entering the U.S.:**[BR]
  
  Country  |Entry Date  |Departure Date
  -------------|------------|------------
  % for country in users[i].countries_traveled_through.complete_elements():
  ${ country }  |${ country.entry_date }  |${ country.departure_date }
  % endfor
  
  [NEWLINE]
  % endif
fields:
  - Select a Country: users[i].countries_traveled_through[j].name
    code: |
      [next(iter(item.values())) for item in countries_list()]
  - Date you entered the country: users[i].countries_traveled_through[j].entry_date
    datatype: date
    max: ${ today() }
  - Date you departed/exited the country: users[i].countries_traveled_through[j].departure_date
    datatype: date
    max: ${ today() }
  - Your immigration status, if any, in that country: users[i].countries_traveled_through[j].immigration_status
    datatype: radio
    choices:
      - citizen
      - legal permanent resident
      - refugee
      - asylee
      - visitor
      - student
      - temporary resident
      - I had NO LEGAL IMMIGRATION STATUS
  - Were you ever offered any legal immigration status that you did not accept?: users[i].countries_traveled_through[j].immigration_status_offered_not_accepted
    datatype: yesnoradio
    show if:
      variable: users[i].countries_traveled_through[j].immigration_status
      is: I had NO LEGAL IMMIGRATION STATUS
  - What immigration status were you offered?: users[i].countries_traveled_through[j].immigration_status_offered
    datatype: radio
    choices:
      - citizen
      - legal permanent resident
      - refugee
      - asylee
      - visitor
      - student
      - temporary resident
      - other
    show if: users[i].countries_traveled_through[j].immigration_status_offered_not_accepted
  - 'Describe "other" immigration status that you were offered': users[i].countries_traveled_through[j].immigration_status_offered_other
    maxlength: 38
    show if:
      variable: users[i].countries_traveled_through[j].immigration_status_offered
      is: other
  - Describe why you chose not to accept the immigration status offered to you: users[i].countries_traveled_through[j].immigration_status_offered_not_accepted_reason
    input type: area
    rows: 2
    show if: users[i].countries_traveled_through[j].immigration_status_offered_not_accepted
---
id: countries entered or traveled to before US review screen
question: Review the countries you entered/traveled through before entering the U.S.
subquestion: |
  ${ users[i].countries_traveled_through.table }
  ${ users[i].countries_traveled_through.add_action(label=bold('Add Another Country'), color='warning') }
continue button field:  users[i].countries_traveled_through_review
---
table:  users[i].countries_traveled_through.table
rows:  users[i].countries_traveled_through
columns:
  - Country: row_item.name
  - Entry Date: row_item.entry_date
  - Departure Date: row_item.departure_date
edit:
  - row_item
allow reordering: True
---
id: prior immigration proceedings are there any
question: Has Applicant been involved in immigration legal proceedings before?
yesno: users[i].prior_immigration_proceedings.there_are_any
---
#################### Prior Immigration Proceedings ####################
id: prior immigration proceedings
question: Prior Immigration Proceedings
subquestion: |
  % if len(users[i].prior_immigration_proceedings.complete_elements()):
  % if len(users[i].prior_immigration_proceedings.complete_elements()) == 1:
  The prior immigration proceeding you told us about is:
  % else:
  The prior immmigration proceedings you told us about are: 
  % endif
  
  Jurisdiction  |Start Date  |End Date
  -------------|------------|------------
  % for proceeding in users[i].prior_immigration_proceedings.complete_elements():
  ${ proceeding.jurisdiction }  |${ proceeding.start_date }  |${ proceeding.end_date }
  % endfor
  
  [NEWLINE]
  % endif
fields:
  - Proceeding: users[i].prior_immigration_proceedings[j].name
    input type: hidden
    default: ${ int(users[i].prior_immigration_proceedings[j].instanceName.split('[')[-1].split(']')[0]) + 1 }
  - Jurisdiction: users[i].prior_immigration_proceedings[j].jurisdiction
    datatype: radio
    choices:
      - Immigration Court (before an Immigration Judge): immigration_judge
      - Board of Immigration Appeals (BIA): bia
      - I am no longer in Department of Justice (DOJ) or Department of Homeland Security (DHS) immigration proceedings, but I am or was in Federal court proceedings regarding immigration issues: fed_court
  - Location (City, State): users[i].prior_immigration_proceedings[j].location
    maxlength: 38
  - Start Date: users[i].prior_immigration_proceedings[j].start_date
    datatype: date
    max: ${ today() }
  - End Date: users[i].prior_immigration_proceedings[j].end_date
    datatype: date
    max: ${ today() }
---
id: prior immigration proceedings review screen
question: Applicant's Prior Immigration Proceedings
subquestion: |
  ${ users[i].prior_immigration_proceedings.table }
  ${ users[i].prior_immigration_proceedings.add_action(label=bold('Add Another Proceeding'), color='warning') }
continue button field: users[i].prior_immigration_proceedings_review
---
table: users[i].prior_immigration_proceedings.table
rows: users[i].prior_immigration_proceedings
columns:
  #- Proceeding: row_item.name
  - Jurisdiction: row_item.jurisdiction
  - Location: row_item.location
  - Start Date: row_item.start_date
  - End Date: row_item.end_date
edit:
  - row_item
allow reordering: True # might be moot/unnecessary here
---
########################## Travel Documents ##########################
id: travel documents are there any
question: Does Applicant have a Passport or travel documents?
subquestion: |
  ***Note: a "cedula" does not count as a travel document***
yesno: users[i].travel_documents.there_are_any
---
id: travel documents
question: Applicant's Travel Documents
subquestion: |
  % if len(users[i].travel_documents.complete_elements()):
  % if len(users[i].travel_documents.complete_elements()) == 1:
  The travel document you entered is:
  % else:
  The travel documents you entered are: 
  % endif
  
  Type  |Issuing Country  |Document Number
  -------------|------------|------------
  % for document in users[i].travel_documents.complete_elements():
  ${ document.type }  |${ document.issuing_country }  |${ document.number }
  % endfor
  
  [NEWLINE]
  % endif
fields:
  - Name: users[i].travel_documents[j].name
    input type: hidden
    default: ${ int(users[i].travel_documents[j].instanceName.split('[')[-1].split(']')[0]) + 1 }
  - Document Type: users[i].travel_documents[j].type
    datatype: radio
    choices:
      - Passport: passport
      - Other Kind of Travel Document: other
  - '"Other" type of travel document': users[i].travel_documents[j].other_type
    maxlength: 38 # perhaps unnecessary here as this info will only optionally be included in the appendix and otherwise will be shown in mako tage to the user for organization purposes.
    show if: 
      variable: users[i].travel_documents[j].type
      is: 'other'
  - Issuing Country: users[i].travel_documents[j].issuing_country
    code: |
      [next(iter(item.values())) for item in countries_list()]
  - Document Number: users[i].travel_documents[j].number
    maxlength: 38
---
id: travel documents review screen
question: Applicant's Travel Documents Review
subquestion: |
  ${ users[i].travel_documents.table }
  ${ users[i].travel_documents.add_action(label=bold('Add Another Document'), color='warning') }
continue button field: users[i].travel_documents_review
---
table: users[i].travel_documents.table
rows: users[i].travel_documents
columns:
  #- Proceeding: row_item.name
  - Type: |
      row_item.other_type if row_item.type == 'other' else row_item.type
  - Issuing Country: row_item.issuing_country
  - Document Number: row_item.number
edit:
  - row_item
allow reordering: True # might be moot/unnecessary here
---
id: type of application
question: Type of Application
fields:
  - "Is this Applicant's first TPS application, or is Applicant re-registering/reapplying for TPS?": users[i].is_first_TPS_application
    datatype: radio
    choices:
      - First TPS Application
      - Re-registering for TPS
  - "TPS Application Country": users[i].tps_application_country
    maxlength: 38
  - "Who Previously Granted the Applicant TPS?": users[i].who_granted_prior_TPS
    datatype: radio
    choices:
      - USCIS
      - Immigration Judge/Board of Immigration Appeals
    show if: 
      variable: users[i].is_first_TPS_application
      is: Re-registering for TPS
---
id: applicant's ethnicity and physical characteristics
question: Ethnicity & Physical Characteristics
fields:
  - "xxxDate of Birth": users[i].alternate_birthdate # delete? #
    datatype: date
  - "Marital Status": users[i].marital_status
    datatype: radio
    choices: 
      - single, never married
      - married
      - divorced
      - widowed
      - separated
      - marriage annulled
      - other
  - 'Explain "Other" Marital Status': users[i].marital_status_other_explanation
    maxlength: 27
    show if: 
      variable: users[i].marital_status
      is: "other"
  - "Applicant's Ethnicity": users[i].ethnicity
    datatype: radio
    choices:
      - Hispanic or Latino
      - Not Hispanic or Latino
  - "Applicant's Race (choose all applicable)": users[i].race
    datatype: checkboxes
    choices:
      - White
      - Black or African American
      - American Indian or Alaska Native
      - Asian
      - Native Hawaiian or Other Pacific Islander
      - Other
  - "Height (feet)": users[i].height_feet
    datatype: integer
  - "Height (inches)": users[i].height_inches
    datatype: integer
  - "Weight pounds": users[i].weight_pounds
    datatype: integer
  - "Hair Color (choose one)": users[i].hair_color
    datatype: radio
    choices:
      - Bald (No hair)
      - Black
      - Blond
      - Brown
      - Gray
      - Red
      - Sandy
      - White
      - Unknown/Other
  - "Eye Color (choose one)": users[i].eye_color
    datatype: radio
    choices:
      - Black
      - Blue
      - Brown
      - Gray
      - Green
      - Hazel
      - Maroon
      - Pink
      - Unknown/Other
---
id: applicant info
question: Applicant Info
fields:
  - "Alien Registration Number (A-Number) (if any)": users[i].a_number
    maxlength: 20
  - "USCIS Online Account Number (if any)": users[i].uscis_account_number
    maxlength: 28
  - "U.S. Social Security Number (if any)": users[i].ssn
    maxlength: 21
---
id: basis for eligibility
question: Basis for TPS Eligibility
fields:
  - "Applicant is a national of (or a person having no nationality who last habitually resided in the country of):": users[i].last_country_of_residence
    maxlength: 38
  - "Applicant entered the U.S. (and has resided in the U.S. since) on what date?": users[i].date_started_us_residence
    datatype: date
    max: ${ today() }
---
id: current spouse and marriage info
question: Current Spouse & Marriage Info
fields:
  - "Marriage Date (to current spouse)": users[i].marriage_date
    datatype: date
  - "Marriage Location": users[0].marriage_location # looking at the form, it is unknown if this solicits a street address or something like 'the holy temple of so and so'
    maxlength: 38
  - "Marriage City": users[0].marriage_city
    maxlength: 24
  - "Marriage State": users[0].marriage_state
    maxlength: 5
  - "Marriage Province": users[0].marriage_province
    maxlength: 24
  - "Marriage Country": users[0].marriage_country
    maxlength: 38
  - "Spouse's USCIS Online Account Number (if any and if known)": users[0].spouse.online_account_number
    maxlength: 28
  - "Spouse's A-Number (if any and if known)": users[0].spouse.a_number
    maxlength: 20
---
#id: applicant spouse prior TPS are there any
#question: Has Applicant's spouse had TPS before?
#yesno: users[i].spouse.prior_TPS.there_are_any
#---
#id: applicant spouse prior TPS
#question: Applicant's Spouse's Prior TPS
#subquestion: |
#  % if len(users[i].spouse.prior_TPS.complete_elements()):
#  % if len(users[i].spouse.prior_TPS.complete_elements()) == 1:
#  The prior immigration proceeding you told us about is:
#  % else:
#  The prior immmigration proceedings you told us about are: 
#  % endif
#  
#  Jurisdiction  |Start Date  |End Date
#  -------------|------------|------------
#  % for prior_TPS in users[i].spouse.prior_TPS.complete_elements():
#  ${ prior_TPS.jurisdiction }  |${ prior_TPS.start_date }  |${ prior_TPS.end_date }
#  % endfor
#  
#  [NEWLINE]
#  % endif
#fields:
#  - Proceeding: users[i].spouse.prior_TPS[j].name
#    input type: hidden
#    default: ${ int(users[i].spouse.prior_TPS[j].instanceName.split('[')[-1].split(']')[0]) + 1 }
#  - Jurisdiction: users[i].spouse.prior_TPS[j].jurisdiction
#    datatype: radio
#    choices:
#      - Immigration Court (before an Immigration Judge): immigration_judge
#      - Board of Immigration Appeals (BIA): bia
#      - I am no longer in Department of Justice (DOJ) or Department of Homeland Security (DHS) immigration proceedings, but I am or was in Federal court proceedings regarding immigration issues: fed_court
#  - Location (City, State): users[i].spouse.prior_TPS[j].location
#    maxlength: 38
#  - Start Date: users[i].spouse.prior_TPS[j].start_date
#    datatype: date
#    max: ${ today() }
#  - End Date: users[i].spouse.prior_TPS[j].end_date
#    datatype: date
#    max: ${ today() }
#---
#id: applicant spouse prior TPS review screen
#question: Applicant's xxxxx
#subquestion: |
#  ${ users[i].xxxxx.table }
#  ${ users[i].xxxxx.add_action(label=bold('Add Another Proceeding'), color='warning') }
#continue button field: users[i].xxxxx_review
#---
#table: users[i].xxxxx.table
#rows: users[i].xxxxx
#columns:
#  #- Proceeding: row_item.name
#  - Jurisdiction: row_item.jurisdiction
#  - Location: row_item.location
#  - Start Date: row_item.start_date
#  - End Date: row_item.end_date
#edit:
#  - row_item
#allow reordering: True # might be moot/unnecessary here
#---
#id: spouse TPS
#question: xxxx
#yesno: xxxx
#  - "Applicant's Spouse has, or once had, TPS (ever)": users[0].spouse.had_tps
#    datatype: yesno
#  - "Applicant's Spouse **presently** has TPS": users[0].spouse.tps_continuing
#    datatype: yesno
#  - "Does Applicant know the beginning OR ending dates of Spouse's TPS?": users[0].spouse.knows_tps_dates
#    datatype: yesno
#    show if: users[0].spouse.had_tps
#  - "Beginning Date of Spouse's Prior TPS": users[0].spouse.tps_date # badly worded question on form - does this mean when was TPS status officially "awarded" or granted, or xxxxx?
#    datatype: date
#    show if: users[0].spouse.knows_tps_dates
#  - "Ending Date of Spouse's Prior TPS": users[0].spouse.tps_ending_date # this needs to be made today() if users[0].spouse.tps_continuing is true
#    datatype: date
#    show if: users[0].spouse.knows_tps_dates
#  - "Applicant's Spouse's TPS is still valid": users[0].spouse.spouse_is_tps_valid # badly worded question - no explanation re "valid" or explanation as to why someone would check that the spouse's TPS ""has" TPS at the "Present" while it may or may not be "valid"...
#    input type: radio
#    choices:
#      - Yes 4: Yes_4 # modify how this question/answer is handled
#      - No 4: No_4
#      - I do not know: I Do Not Know
#    show if: users[0].spouse.tps_continuing
---
id: U.S. entry info and travel documents
question: U.S. Entry Info & Travel Documents
fields:
  - "Current Immigration Status or Lack of Status": users[i].current_immigration_status # very badly worded question
    maxlength: 38
  - "Applicant is now, or has **EVER** been, in immigration proceedings": users[i].has_been_in_immigration_proceedings # bad wording of question, undefined "immigration proceedings"
    datatype: yesno
  - "Date of Last Entry into U.S.": users[i].date_of_last_arrival
    datatype: date
    max: ${ today() }
  - "Immigration Status (or Lack of Status) When You Last Entered the U.S. (e.g., visitor, student, no status)": users[i].date_of_last_entry # this variable name doesn't match question
    maxlength: 38
  - "Port of Entry (if any)": users[i].port_of_entry
    maxlength: 38
    required: False
  - "City/Town of Entry": users[i].city_of_entry # is this required? may not be properly applicable if applicant dod not arrive directly to a city/town...
    maxlength: 38
  - "State of Entry (abbreviation)": users[i].state_of_entry
    maxlength: 5
  - "Form I-94 Arrival-Departure Record Number (if any)": users[i].i94_arrival_number
    maxlength: 26
  - "Date Applicant's Authorized Period of Stay in the U.S. Expired or Will Expire (as shown on Form I-94 or Crewman's Landing Permit (Form I-95)) (mm/dd/yyyy or duration of status (D/S)": users[i].authorized_stay_ending_date # just terrible question wording
    datatype: date
  - "Expiration date of most recent Passport or travel document": users[i].passport_or_travel_document_expiration_date # badly worded - "most recent" presumably meaning most recently issued, i.e., "newest", and this will only apply to one of the total passports/documents in the list of course...
    datatype: date
---
###################################################################################
id: former spouse nationality and travel documents
question: Former Spouse(s) Nationality & Travel Documents
fields:
  - "Users4 nationality": users4_nationality
    maxlength: 38
  - "Users4 a number": users4_a_number
    maxlength: 20
  - "Date of users4 death": users4_death_date
    datatype: date
  - "Users3 nationality": users3_nationality
    maxlength: 38
  - "Date of users4 marriage start": users4_marriage_start_date
    datatype: date
  - "Date of users4 marriage end": users4_marriage_end_date
    datatype: date
  - "Users3 a number": users3_a_number
    maxlength: 20
  - "Users4 marriage ending reason": users4_marriage_ending_reason
    maxlength: 38
  - "Date of users3 death": users3_death_date
    datatype: date
  - "Second spouse has tps": second_spouse_has_tps
    input type: radio
    choices:
      - Yes 6: Yes_6
      - No 6: No_6
      - I do not know 3: I Do Not Know_3
  - "Date of users3 marriage": users3_marriage_date
    datatype: date
  - "Date of second spouse tps start": second_spouse_tps_start_date
    datatype: date
  - "Date of users3 marriage ending": users3_marriage_ending_date
    datatype: date
  - "Date of second spouse tps end": second_spouse_tps_end_date
    datatype: date
  - "Second spouse tps continues": second_spouse_tps_continues
    datatype: yesno
  - "Second spouse tps dates unknown": second_spouse_tps_dates_unknown
    datatype: yesno
  - "Users3 marriage ending reason": users3_marriage_ending_reason
    maxlength: 38
  - "First spouse had tps": first_spouse_had_tps # not first, former
    input type: radio
    choices:
      - Yes 7: Yes_7
      - I do not know 4: I Do Not Know_4
      - Yes 8: Yes_8
      - No 8: No_8
      - I do not know 5: I Do Not Know_5
      - No 7: No_7
  - "Date of first spouse tps start": first_spouse_tps_start_date # not first, former
    datatype: date
  - "Date of first spouse tps end": first_spouse_tps_end_date # not first, former
    datatype: date
  - "First spouse tps continuing": first_spouse_tps_continuing # not first, former
    datatype: yesno
  - "First spouse tps dates unknown": first_spouse_tps_dates_unknown # not first, former
    datatype: yesno
  - "First spouse applying for tps": first_spouse_applying_for_tps # not first, former
    input type: radio
    choices:
      - Yes 5: Yes_5
      - No 5: No_5
      - I do not know 2: I Do Not Know_2
  - "Children2 online account number": children2_online_account_number
    maxlength: 28
  - "Children2 a number": children2_a_number
    maxlength: 20
  - "Children1 online account number": children1_online_account_number
    maxlength: 28
  - "Children1 a number": children1_a_number
    maxlength: 20
  - "Date of children2 tps start": children2_tps_start_date
    datatype: date
  - "Date of children2 tps end": children2_tps_end_date
    datatype: date
  - "Children2 applying for tps": children2_applying_for_tps
    input type: radio
    choices:
      - Yes 10: Yes_10
      - No 10: No_10
  - "Date of children1 tps start": children1_tps_start_date
    datatype: date
  - "Date of children1 tps end": children1_tps_end_date
    datatype: date
  - "Children1 applying for tps": children1_applying_for_tps
    input type: radio
    choices:
      - Yes 9: Yes_9
      - No 9: No_9
---
id: have you evers
question: Has Applicant EVER...
fields:
  - "Been convicted of committing a felony in the US?": users[i].been_convicted_of_felony_in_us
    datatype: yesno
    grid: 6
  - "Been convicted of misdemeanor in US?": users[i].been_convicted_of_misdemeanor_us
    datatype: yesno
    grid: 6
  - "Been convicted of any particularly serious crime in US or anywhere?": users[i].committed_particularly_serious_crime
    datatype: yesno
    grid: 6
  - "Within the previous five years, have you EVER obtained any financial or other benefit from the unlawful activity of your spouse (including former spouses) or parents, and you knew, or reasonably should have known, that the financial or other benefit was the product of such illicit activity?": users[i].got_financial_benefit_from_crime
    datatype: yesno
    grid: 6
  - "Persecution by protected status": users[i].persecution_by_protected_status
    input type: radio
    datatype: yesno
    grid: 6
  - "Engaged in espionage": users[i].engaged_espionage
    datatype: yesno
    grid: 6
  - "Committed serious nonpolitical crime": users[i].serious_nonpolitical_crime
    datatype: yesno
    grid: 6
  - "Any activity to violate or evade any law prohibiting the export from the United States of goods, technology, or sensitive information?": users[i].violated_law_prohibiting_export
    datatype: yesno
    grid: 6
  - "Evade export controls": users[i].evade_export_controls
    datatype: yesno
    grid: 6
  - "Danger to us": users[i].danger_to_us
    datatype: yesno
    grid: 6
  - "Any other unlawful activity in the United States?": users[i].any_other_unlawful_activity_in_US
    datatype: yesno
    grid: 6
  - "Convicted or committed any crime": users[i].convicted_or_committed_any_crime
    datatype: yesno
    grid: 6
  - "Acted in overthrow of us": users[i].acted_in_overthrow_of_us
    datatype: yesno
    grid: 6
  - "Convicted committed drugs": users[i].convicted_committed_drugs
    datatype: yesno
    grid: 6
  - "Acted as terrorist": users[i].acted_as_terrorist
    datatype: yesno
    grid: 6
  - "Convicted committed conspiracy drugs": users[i].convicted_committed_conspiracy_drugs
    datatype: yesno
    grid: 6
  - "Negative foreign policy": users[i].negative_foreign_policy
    datatype: yesno
    grid: 6
  - "Convicted 2 or more crimes totalling 5 or more years": users[i].convicted_2_or_more_crimes_totalling_5_or_more_years
    datatype: yesno
    grid: 6
  - "Is communist": users[i].is_communist
    datatype: yesno
    grid: 6
  - "Ever trafficked": users[i].ever_trafficked
    datatype: yesno
    grid: 6
  - "Is nazi": users[i].is_nazi
    datatype: yesno
    grid: 6
  - "Trafficking drugs": users[i].trafficking_drugs
    datatype: yesno
    grid: 6
  - "Ever arrested": users[i].ever_arrested
    datatype: yesno
    grid: 6
  - "Spouse or child of drug trafficker": users[i].spouse_or_child_of_drug_trafficker
    datatype: yesno
    grid: 6
  - "Ever cited": users[i].ever_cited
    datatype: yesno
    grid: 6
  - "Spouse or child drug abetter": users[i].spouse_or_child_drug_abetter
    datatype: yesno
    grid: 6
  - "Ever fined jailed suspended": users[i].ever_fined_jailed_suspended
    datatype: yesno
    grid: 6
  - "Has communicable disease": users[i].has_communicable_disease
    datatype: yesno
    grid: 6
  - "Ever got clemency": users[i].ever_got_clemency
    datatype: yesno
    grid: 6
  - "Has dangerous disorder": users[i].has_dangerous_disorder
    datatype: yesno
    grid: 6
  - "Ever asserted immunity prosecution": users[i].ever_asserted_immunity_prosecution
    datatype: yesno
    grid: 6
  - "Drug addict": users[i].drug_addict
    datatype: yesno
    grid: 6
  - "Prostitution last 10 years": users[i].prostitution_last_10_years
    datatype: yesno
    grid: 6
  - "Stowaway": users[i].stowaway
    datatype: yesno
    grid: 6
  - "Procured prostitute 10 years": users[i].procured_prostitute_10_years
    datatype: yesno
    grid: 6
  - "Fined for false documentation": users[i].fined_for_false_documentation
    datatype: yesno
    grid: 6
  - "Pimped 10 years": users[i].pimped_10_years
    datatype: yesno
    grid: 6
  - "Immigration and nationality act": users[i].Immigration_and_Nationality_Act
    datatype: yesno
    grid: 6
  - "Do you now practice polygamy": users[i].Do_you_NOW_practice_polygamy
    datatype: yesno
    grid: 6
  - "Involved in commercial vice": users[i].involved_in_commercial_vice
    datatype: yesno
    grid: 6
  - "Ever ordered removed": users[i].ever_ordered_removed
    datatype: yesno
    grid: 6
  - "Examiner to be helpless due to sickness physical or": users[i].examiner_to_be_helpless_due_to_sickness_physical_or
    datatype: yesno
    grid: 6
  - "Ever departed removal order": users[i].ever_departed_removal_order
    datatype: yesno
    grid: 6
  - "Citizenship outside the united states from a us citizen": users[i].citizenship_outside_the_United_States_from_a_US_citizen
    datatype: yesno
    grid: 6
  - "Dhs reinstated before removal": users[i].dhs_reinstated_before_removal
    datatype: yesnomaybe
    grid: 6
  - "Genocide": users[i].genocide
    datatype: yesno
    grid: 6
  - "Ever failed to attend deportation hearing": users[i].ever_failed_to_attend_deportation_hearing
    datatype: yesno
    grid: 6
  - "Killing": users[i].killing
    datatype: yesno
    grid: 6
  - "Severe injury": users[i].severe_injury
    datatype: yesno
    grid: 6
  - "Ever lied visa or admission": users[i].ever_lied_visa_or_admission
    datatype: yesno
    grid: 6
  - "Ever helped someone enter illegally": users[i].ever_helped_someone_enter_illegally
    datatype: yesno
    grid: 6
  - "Forced sex": users[i].forced_sex
    datatype: yesno
    grid: 6
  - "Denied religious exercise": users[i].denied_religious_exercise
    datatype: yesno
    grid: 6
  - "Spouse child helped human trafficker": users[i].spouse_child_helped_human_trafficker
    datatype: yesno
    grid: 6
  - "Served military": users[i].served_military
    datatype: yesno
    grid: 6
  - "Worked detention facility": users[i].worked_detention_facility
    datatype: yesno
    grid: 6
  - "Benefited human trafficking": users[i].benefited_human_trafficking
    datatype: yesno
    grid: 6
  - "Laundering as described in section 1956 or 1957 of title": users[i].laundering_as_described_in_section_1956_or_1957_of_Title
    datatype: yesno
    grid: 6
  - "Group using weapons": users[i].group_using_weapons
    datatype: yesno
    grid: 6
  - "Helped money laundering": users[i].helped_money_laundering
    datatype: yesno
    grid: 6
  - "Helped weapons": users[i].helped_weapons
    datatype: yesno
    grid: 6
  - "Weapon training": users[i].weapon_training
    datatype: yesno
    grid: 6
  - "Violated religious freedom": users[i].violated_religious_freedom
    datatype: yesno
    grid: 6
  - "Illegal voted us": users[i].illegal_voted_us
    datatype: yesno
    grid: 6
  - "Past determination of frivolous asylum": users[i].past_determination_of_frivolous_asylum
    datatype: yesno
    grid: 6
  - "Claimed us citizen": users[i].claimed_us_citizen
    datatype: yesno
    grid: 6
  - "Conscripted child soldier": users[i].conscripted_child_soldier
    datatype: yesno
    grid: 6
  - "Used child soldier": users[i].used_child_soldier
    datatype: yesno
    grid: 6
  - "Committed human trafficking": users[i].committed_human_trafficking
    datatype: yesno
    grid: 6
  - "Helped human trafficking": users[i].helped_human_trafficking
    datatype: yesno
    grid: 6
  - "Spouse child human trafficker": users[i].spouse_child_human_trafficker
    datatype: yesno
    grid: 6
---
  - "User reads english": users[i].user_reads_english
    datatype: yesno
  - "User used interpreter": users[i].user_used_interpreter
    datatype: yesno
  - "Interpreter spoke language": users[i].interpreter_spoke_language
    maxlength: 16
  - "User used preparer": users[i].user_used_preparer
    datatype: yesno
  - "Interpreter organization": users[i].interpreter_organization
    maxlength: 38
  - "Interpreted into language": users[i].interpreted_into_language
    maxlength: 23
  - "Preparer is attorney": users[i].preparer_is_attorney
    datatype: yesno
  - "Preparer full rep": users[i].preparer_full_rep
    datatype: yesno
  - "Preparer limited rep": users[i].preparer_limited_rep
    datatype: yesno
  - "Preparer organization": users[i].preparer_organization
    maxlength: 38
---
id: Addendum skip these
question: |
  Addendum (skip these)
fields:
  - "Page number 3": Page_Number_3
    maxlength: 8
  - "Part number 3": Part_Number_3
    maxlength: 8
  - "Item number 3": Item_Number_3
    maxlength: 8
  - "3": _3
    maxlength: 39
  - "Sign and date each sheet": sign_and_date_each_sheet
    maxlength: 28
  - "First name 9": First_Name_9
    maxlength: 28
  - "Middle name 8": Middle_Name_8
    maxlength: 28
  - "A 3": A_3
    maxlength: 21
  - "Page number": Page_Number
    maxlength: 8
  - "Part number": Part_Number
    maxlength: 8
  - "Item number": Item_Number
    maxlength: 8
  - "Page number 4": Page_Number_4
    maxlength: 8
  - "Part number 4": Part_Number_4
    maxlength: 8
  - "Item number 4": Item_Number_4
    maxlength: 8
  - "4": _4
    maxlength: 39
  - "Page number 2": Page_Number_2
    maxlength: 8
  - "Part number 2": Part_Number_2
    maxlength: 8
  - "Item number 2": Item_Number_2
    maxlength: 8
  - "Page number 5": Page_Number_5
    maxlength: 8
  - "Part number 5": Part_Number_5
    maxlength: 8
  - "Item number 5": Item_Number_5
    maxlength: 8
  - "2": _2
    maxlength: 39
  - "5": _5
    maxlength: 39
---
id: preview USCISApplications
question: |
  Preview your form before you sign it
subquestion: |
  Here is a preview of the form you will sign on the next page.   
  
  ${ al_recipient_bundle.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_USCISApplications'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue and sign your form.
continue button field: USCISApplications_preview_question    
---
code: |
  signature_fields = []
---
code: |
  users[i].alternate_birthdate_2 = DAEmpty()
---
id: Apply for temporary protected statu review screen
event: review_USCISApplications
question: |
  Review your answers
review:
  - Edit: users[i].is_form_g28_attached
    button: |
      **Is form g28 attached**:
      ${ word(yesno(users[i].is_form_g28_attached)) }
  - Edit: users[i].attorneys1_bar_number
    button: |
      **Attorneys1 bar number**:
      ${ users[i].attorneys1_bar_number }
  - Edit: users[i].attorney_online_account_number
    button: |
      **Attorney online account number**:
      ${ users[i].attorney_online_account_number }
  - Edit: users[i].is_first_TPS_application
    button: |
      **This is Applicant's first TPS application, or Applicant is re-registering for TPS**:
      ${ users[i].is_first_TPS_application } # needs editing
  - Edit: users[i].tps_application_country
    button: |
      **TPS Application Country**:
      ${ users[i].tps_application_country }
  - Edit: users.revisit
    button: |
      **Applicant**

      % for item in users:
        * ${ item }
      % endfor
  - Edit: users[i].who_granted_prior_TPS
    button: |
      **Who Granted Prior TPS?**:
      ${ users[i].who_granted_prior_TPS }
  - Edit: users[i].a_number
    button: |
      **Applicant's a number**:
      ${ users[i].a_number }
  - Edit: users[i].uscis_account_number
    button: |
      **Applicant's uscis account number**:
      ${ users[i].uscis_account_number }
  - Edit: users[i].ssn
    button: |
      **Applicant's ssn**:
      ${ users[i].ssn }
  - Edit: users[i].alternate_birthdate
    button: |
      **Applicant's alternate birthdate**:
      ${ users[i].alternate_birthdate }
  - Edit: users[i].address.address
    button: |
      **Applicant's xxxx address is**:
      ${ users[i].address.block(show_country=True) }
  - Edit: users[i].country_of_birth
    button: |
      **Country of birth**:
      ${ users[i].country_of_birth }
  - Edit: users[i].countries_of_residence
    button: |
      **Applicant's countries of residence**:
      > ${ single_paragraph(users[i].countries_of_residence) }
  - Edit: users[i].countries_of_citizenship
    button: |
      **Applicant's countries of citizenship**:
      > ${ single_paragraph(users[i].countries_of_citizenship) }
  - Edit: users[i].marital_status
    button: |
      **Marital Status**:
      ${ capitalize(users[i].marital_status) }
  - Edit: users[i].marital_status_other_explanation
    button: |
      **Marital status other explanation**:
      ${ users[i].marital_status_other_explanation }
  - Edit: users[i].marriage_date
    button: |
      **Date of marriage**:
      ${ users[i].marriage_date }
  - Edit: users[i].current_immigration_status
    button: |
      **Current immigration status**:
      ${ users[0].current_immigration_status }
  - Edit: users[0].has_been_in_immigration_proceedings
    button: |
      **Has been in immigration proceedings**:
      ${ users[0].has_been_in_immigration_proceedings }
  - Edit: users[0].date_of_last_arrival
    button: |
      **Date of last arrival**:
      ${ users[0].date_of_last_arrival }
  - Edit: users[0].proceedings_was_immigration_court
    button: |
      **Proceedings was immigration court**:
      ${ word(yesno(users[0].proceedings_was_immigration_court)) }
  - Edit: users[0].proceedings_was_bia
    button: |
      **Proceedings was bia**:
      ${ word(yesno(users[0].proceedings_was_bia)) }
  - Edit: users[0].date_of_last_entry
    button: |
      **Date of last entry**:
      ${ users[0].date_of_last_entry }
  - Edit: users[0].proceedings_was_federal_court
    button: |
      **Proceedings was federal court**:
      ${ word(yesno(users[0].proceedings_was_federal_court)) }
  - Edit: users[0].port_of_entry
    button: |
      **Port of entry**:
      ${ users[0].port_of_entry }
  - Edit: users[0].city_of_entry
    button: |
      **City of entry**:
      ${ users[0].city_of_entry }
  - Edit: users[0].proceedings_dhs_or_doj_hearing_location
    button: |
      **Proceedings dhs or doj hearing location**:
      ${ users[0].proceedings_dhs_or_doj_hearing_location }
  - Edit: users[0].state_of_entry
    button: |
      **State of entry**:
      ${ users[0].state_of_entry }
  - Edit: users[0].i94_arrival_number
    button: |
      **I94 arrival number**:
      ${ users[0].i94_arrival_number }
  - Edit: users[0].proceedings_federal_court_location
    button: |
      **Proceedings federal court location**:
      ${ users[0].proceedings_federal_court_location }
  - Edit: users[0].authorized_stay_ending_date
    button: |
      **Date of authorized stay ending**:
      ${ users[0].authorized_stay_ending_date }
  - Edit: users[0].proceedings_start_date
    button: |
      **Date of proceedings start**:
      ${ users[0].proceedings_start_date }
  - Edit: users[0].proceedings_end_date
    button: |
      **Date of proceedings end**:
      ${ users[0].proceedings_end_date }
  - Edit: users[0].proceedings_continuing_to_present
    button: |
      **Proceedings continuing to present**:
      ${ word(yesno(users[0].proceedings_continuing_to_present)) }
  - Edit: users[0].passport_number
    button: |
      **Passport number**:
      ${ users[0].passport_number }
  - Edit: users[0].travel_document_number
    button: |
      **Travel document number**:
      ${ users[0].travel_document_number }
  - Edit: users[0].additional_passport_number_1
    button: |
      **Additional passport number 1**:
      ${ users[0].additional_passport_number_1 }
  - Edit: users[0].additional_passport_number_2
    button: |
      **Additional passport number 2**:
      ${ users[0].additional_passport_number_2 }
  - Edit: users[0].race
    button: |
      **Race**:
      ${ users[0].race }
  - Edit: users[0].ethnicity
    button: |
      **Ethnicity**:
      ${ users[0].ethnicity }
  - Edit: users[0].most_recent_passport_country_issuing
    button: |
      **Most recent passport country issuing**:
      ${ users[0].most_recent_passport_country_issuing }
  - Edit: users[0].passport_or_travel_document_expiration_date
    button: |
      **Date of passport or travel document expiration**:
      ${ users[0].passport_or_travel_document_expiration_date }
  - Edit: users[0].height_feet
    button: |
      **Height feet**:
      ${ users[0].height_feet }
  - Edit: users[0].height_inches
    button: |
      **Height inches**:
      ${ users[0].height_inches }
  - Edit: users[0].weight_pounds
    button: |
      **Weight pounds**:
      ${ users[0].weight_pounds }
  - Edit: users[0].spouse.address.address
    button: |
      **Current Spouse's Address**:
      ${ users[0].spouse.address.block(show_country=True) }
  - Edit: users[0].hair_color
    button: |
      **Hair Color**:
      ${ users[0].hair_color }
  - Edit: users[0].eye_color
    button: |
      **Eye Color**:
      ${ users[0].eye_color }
  - Edit: users[0].spouse.address_province
    button: |
      **Users2 address province**:
      ${ users[0].spouse.address_province }
  - Edit: users[0].spouse.address_postal_code
    button: |
      **Users2 address postal code**:
      ${ users[0].spouse.address_postal_code }
  - Edit: users[0].marriage_location
    button: |
      **Marriage location**:
      ${ users[0].marriage_location }
  - Edit: users[0].marriage_city
    button: |
      **Marriage city**:
      ${ users[0].marriage_city }
  - Edit: users[0].marriage_state
    button: |
      **Marriage state**:
      ${ users[0].marriage_state }
  - Edit: users[0].marriage_province
    button: |
      **Marriage province**:
      ${ users[0].marriage_province }
  - Edit: users[0].marriage_country
    button: |
      **Marriage country**:
      ${ users[0].marriage_country }
  - Edit: users[0].spouse.online_account_number
    button: |
      **Users2 online account number**:
      ${ users[0].spouse.online_account_number }
  - Edit: users[0].spouse_had_tps
    button: |
      **Spouse had tps**:
      ${ users[0].spouse_had_tps }
  - Edit: users[0].spouse.a_number
    button: |
      **Users2 a number**:
      ${ users[0].spouse.a_number }
  - Edit: spouse_tps_date
    button: |
      **Date of spouse tps**:
      ${ spouse_tps_date }
  - Edit: spouse_tps_ending_date
    button: |
      **Date of spouse tps ending**:
      ${ spouse_tps_ending_date }
  - Edit: spouse_tps_continuing
    button: |
      **Spouse tps continuing**:
      ${ word(yesno(spouse_tps_continuing)) }
  - Edit: spouse_tps_dates_unknown
    button: |
      **Spouse tps dates unknown**:
      ${ word(yesno(spouse_tps_dates_unknown)) }
  - Edit: spouse_is_tps_valid
    button: |
      **Spouse is tps valid**:
      ${ spouse_is_tps_valid }
  - Edit: users4_nationality
    button: |
      **Users4 nationality**:
      ${ users4_nationality }
  - Edit: users4_a_number
    button: |
      **Users4 a number**:
      ${ users4_a_number }
  - Edit: users4_death_date
    button: |
      **Date of users4 death**:
      ${ users4_death_date }
  - Edit: users3_nationality
    button: |
      **Users3 nationality**:
      ${ users3_nationality }
  - Edit: users4_marriage_start_date
    button: |
      **Date of users4 marriage start**:
      ${ users4_marriage_start_date }
  - Edit: users4_marriage_end_date
    button: |
      **Date of users4 marriage end**:
      ${ users4_marriage_end_date }
  - Edit: users3_a_number
    button: |
      **Users3 a number**:
      ${ users3_a_number }
  - Edit: users4_marriage_ending_reason
    button: |
      **Users4 marriage ending reason**:
      ${ users4_marriage_ending_reason }
  - Edit: users3_death_date
    button: |
      **Date of users3 death**:
      ${ users3_death_date }
  - Edit: second_spouse_has_tps
    button: |
      **Second spouse has tps**:
      ${ second_spouse_has_tps }
  - Edit: users3_marriage_date
    button: |
      **Date of users3 marriage**:
      ${ users3_marriage_date }
  - Edit: second_spouse_tps_start_date
    button: |
      **Date of second spouse tps start**:
      ${ second_spouse_tps_start_date }
  - Edit: users3_marriage_ending_date
    button: |
      **Date of users3 marriage ending**:
      ${ users3_marriage_ending_date }
  - Edit: second_spouse_tps_end_date
    button: |
      **Date of second spouse tps end**:
      ${ second_spouse_tps_end_date }
  - Edit: second_spouse_tps_continues
    button: |
      **Second spouse tps continues**:
      ${ word(yesno(second_spouse_tps_continues)) }
  - Edit: second_spouse_tps_dates_unknown
    button: |
      **Second spouse tps dates unknown**:
      ${ word(yesno(second_spouse_tps_dates_unknown)) }
  - Edit: users3_marriage_ending_reason
    button: |
      **Users3 marriage ending reason**:
      ${ users3_marriage_ending_reason }
  - Edit: first_spouse_had_tps
    button: |
      **First spouse had tps**:
      ${ first_spouse_had_tps }
  - Edit: first_spouse_tps_start_date
    button: |
      **Date of first spouse tps start**:
      ${ first_spouse_tps_start_date }
  - Edit: first_spouse_tps_end_date
    button: |
      **Date of first spouse tps end**:
      ${ first_spouse_tps_end_date }
  - Edit: first_spouse_tps_continuing
    button: |
      **First spouse tps continuing**:
      ${ word(yesno(first_spouse_tps_continuing)) }
  - Edit: first_spouse_tps_dates_unknown
    button: |
      **First spouse tps dates unknown**:
      ${ word(yesno(first_spouse_tps_dates_unknown)) }
  - Edit: first_spouse_applying_for_tps
    button: |
      **First spouse applying for tps**:
      ${ first_spouse_applying_for_tps }
  - Edit: children.revisit
    button: |
      **Children**

      % for item in children:
        * ${ item }
      % endfor
  - Edit: children2_online_account_number
    button: |
      **Children2 online account number**:
      ${ children2_online_account_number }
  - Edit: children2_a_number
    button: |
      **Children2 a number**:
      ${ children2_a_number }
  - Edit: users[0].children[0].address.addressxxxxx # needs revision
    button: |
      **Childrens Address is**:
      ${ users[0].children[0].address.block(show_country=True) }
  - Edit: children1_online_account_number
    button: |
      **Children1 online account number**:
      ${ children1_online_account_number }
  - Edit: children1_a_number
    button: |
      **Children1 a number**:
      ${ children1_a_number }
  - Edit: children2_tps_start_date
    button: |
      **Date of children2 tps start**:
      ${ children2_tps_start_date }
  - Edit: children2_tps_end_date
    button: |
      **Date of children2 tps end**:
      ${ children2_tps_end_date }
  - Edit: children2_applying_for_tps
    button: |
      **Children2 applying for tps**:
      ${ children2_applying_for_tps }
  - Edit: children1_tps_start_date
    button: |
      **Date of children1 tps start**:
      ${ children1_tps_start_date }
  - Edit: children1_tps_end_date
    button: |
      **Date of children1 tps end**:
      ${ children1_tps_end_date }
  - Edit: last_country_of_residence
    button: |
      **Last country of residence**:
      ${ last_country_of_residence }
  - Edit: children1_applying_for_tps
    button: |
      **Children1 applying for tps**:
      ${ children1_applying_for_tps }
  - Edit: date_started_us_residence
    button: |
      **Date started us residence**:
      ${ date_started_us_residence }
  - Edit: entered_country_other_than_residence_country_before_us
    button: |
      **Entered country other than residence country before us**:
      ${ entered_country_other_than_residence_country_before_us }
  - Edit: other_countries_entered_list
    button: |
      **Other countries entered list**:
      ${ other_countries_entered_list }
  - Edit: other_country_entered_start_date
    button: |
      **Date of other country entered start**:
      ${ other_country_entered_start_date }
  - Edit: other_country_entered_end_date
    button: |
      **Date of other country entered end**:
      ${ other_country_entered_end_date }
  - Edit: other_country_immigration_status
    button: |
      **Other country immigration status**:
      ${ other_country_immigration_status }
  - Edit: other_country_immigration_status_offered
    button: |
      **Other country immigration status offered**:
      ${ other_country_immigration_status_offered }
  - Edit: other_country_immigration_status_names_and_status
    button: |
      **Other country immigration status names and status**:
      > ${ single_paragraph(other_country_immigration_status_names_and_status) }
  - Edit: other_country_immigration_status_why_refused
    button: |
      **Other country immigration status why refused**:
      > ${ single_paragraph(other_country_immigration_status_why_refused) }
  - Edit: convicted_of_felony_in_us
    button: |
      **Convicted of felony in us**:
      ${ convicted_of_felony_in_us }
  - Edit: convicted_of_misdemeanor_us
    button: |
      **Convicted of misdemeanor us**:
      ${ convicted_of_misdemeanor_us }
  - Edit: particularly_serious_crime
    button: |
      **Particularly serious crime**:
      ${ particularly_serious_crime }
  - Edit: got_financial_benefit_crime
    button: |
      **Got financial benefit crime**:
      ${ got_financial_benefit_crime }
  - Edit: persecution_by_protected_status
    button: |
      **Persecution by protected status**:
      ${ persecution_by_protected_status }
  - Edit: engaged_espionage
    button: |
      **Engaged espionage**:
      ${ engaged_espionage }
  - Edit: serious_nonpolitical_crime
    button: |
      **Serious nonpolitical crime**:
      ${ serious_nonpolitical_crime }
  - Edit: Yes_29
    button: |
      **Yes 29**:
      ${ word(yesno(Yes_29)) }
  - Edit: evade_export_controls
    button: |
      **Evade export controls**:
      ${ evade_export_controls }
  - Edit: danger_to_us
    button: |
      **Danger to us**:
      ${ danger_to_us }
  - Edit: Yes_30
    button: |
      **Yes 30**:
      ${ word(yesno(Yes_30)) }
  - Edit: convicted_or_committed_any_crime
    button: |
      **Convicted or committed any crime**:
      ${ convicted_or_committed_any_crime }
  - Edit: acted_in_overthrow_of_us
    button: |
      **Acted in overthrow of us**:
      ${ acted_in_overthrow_of_us }
  - Edit: convicted_committed_drugs
    button: |
      **Convicted committed drugs**:
      ${ convicted_committed_drugs }
  - Edit: acted_as_terrorist
    button: |
      **Acted as terrorist**:
      ${ acted_as_terrorist }
  - Edit: convicted_committed_conspiracy_drugs
    button: |
      **Convicted committed conspiracy drugs**:
      ${ convicted_committed_conspiracy_drugs }
  - Edit: negative_foreign_policy
    button: |
      **Negative foreign policy**:
      ${ negative_foreign_policy }
  - Edit: convicted_2_or_more_crimes_totalling_5_or_more_years
    button: |
      **Convicted 2 or more crimes totalling 5 or more years**:
      ${ word(yesno(convicted_2_or_more_crimes_totalling_5_or_more_years)) }
  - Edit: is_communist
    button: |
      **Is communist**:
      ${ is_communist }
  - Edit: ever_trafficked
    button: |
      **Ever trafficked**:
      ${ word(yesno(ever_trafficked)) }
  - Edit: is_nazi
    button: |
      **Is nazi**:
      ${ is_nazi }
  - Edit: trafficking_drugs
    button: |
      **Trafficking drugs**:
      ${ trafficking_drugs }
  - Edit: ever_arrested
    button: |
      **Ever arrested**:
      ${ ever_arrested }
  - Edit: spouse_or_child_of_drug_trafficker
    button: |
      **Spouse or child of drug trafficker**:
      ${ spouse_or_child_of_drug_trafficker }
  - Edit: ever_cited
    button: |
      **Ever cited**:
      ${ ever_cited }
  - Edit: spouse_or_child_drug_abetter
    button: |
      **Spouse or child drug abetter**:
      ${ spouse_or_child_drug_abetter }
  - Edit: ever_fined_jailed_suspended
    button: |
      **Ever fined jailed suspended**:
      ${ ever_fined_jailed_suspended }
  - Edit: has_communicable_disease
    button: |
      **Has communicable disease**:
      ${ has_communicable_disease }
  - Edit: ever_got_clemency
    button: |
      **Ever got clemency**:
      ${ ever_got_clemency }
  - Edit: has_dangerous_disorder
    button: |
      **Has dangerous disorder**:
      ${ has_dangerous_disorder }
  - Edit: ever_asserted_immunity_prosecution
    button: |
      **Ever asserted immunity prosecution**:
      ${ ever_asserted_immunity_prosecution }
  - Edit: drug_addict
    button: |
      **Drug addict**:
      ${ word(yesno(drug_addict)) }
  - Edit: prostitution_last_10_years
    button: |
      **Prostitution last 10 years**:
      ${ prostitution_last_10_years }
  - Edit: stowaway
    button: |
      **Stowaway**:
      ${ word(yesno(stowaway)) }
  - Edit: procured_prostitute_10_years
    button: |
      **Procured prostitute 10 years**:
      ${ procured_prostitute_10_years }
  - Edit: fined_for_false_documentation
    button: |
      **Fined for false documentation**:
      ${ fined_for_false_documentation }
  - Edit: pimped_10_years
    button: |
      **Pimped 10 years**:
      ${ pimped_10_years }
  - Edit: Immigration_and_Nationality_Act
    button: |
      **Immigration and nationality act**:
      ${ Immigration_and_Nationality_Act }
  - Edit: Do_you_NOW_practice_polygamy
    button: |
      **Do you now practice polygamy**:
      ${ Do_you_NOW_practice_polygamy }
  - Edit: involved_in_commercial_vice
    button: |
      **Involved in commercial vice**:
      ${ involved_in_commercial_vice }
  - Edit: ever_ordered_removed
    button: |
      **Ever ordered removed**:
      ${ ever_ordered_removed }
  - Edit: examiner_to_be_helpless_due_to_sickness_physical_or
    button: |
      **Examiner to be helpless due to sickness physical or**:
      ${ examiner_to_be_helpless_due_to_sickness_physical_or }
  - Edit: ever_departed_removal_order
    button: |
      **Ever departed removal order**:
      ${ ever_departed_removal_order }
  - Edit: citizenship_outside_the_United_States_from_a_US_citizen
    button: |
      **Citizenship outside the united states from a us citizen**:
      ${ citizenship_outside_the_United_States_from_a_US_citizen }
  - Edit: dhs_reinstated_before_removal
    button: |
      **Dhs reinstated before removal**:
      ${ dhs_reinstated_before_removal }
  - Edit: genocide
    button: |
      **Genocide**:
      ${ word(yesno(genocide)) }
  - Edit: ever_failed_to_attend_deportation_hearing
    button: |
      **Ever failed to attend deportation hearing**:
      ${ ever_failed_to_attend_deportation_hearing }
  - Edit: killing
    button: |
      **Killing**:
      ${ word(yesno(killing)) }
  - Edit: severe_injury
    button: |
      **Severe injury**:
      ${ word(yesno(severe_injury)) }
  - Edit: ever_lied_visa_or_admission
    button: |
      **Ever lied visa or admission**:
      ${ ever_lied_visa_or_admission }
  - Edit: ever_helped_someone_enter_illegally
    button: |
      **Ever helped someone enter illegally**:
      ${ ever_helped_someone_enter_illegally }
  - Edit: forced_sex
    button: |
      **Forced sex**:
      ${ forced_sex }
  - Edit: denied_religious_exercise
    button: |
      **Denied religious exercise**:
      ${ denied_religious_exercise }
  - Edit: spouse_child_helped_human_trafficker
    button: |
      **Spouse child helped human trafficker**:
      ${ spouse_child_helped_human_trafficker }
  - Edit: served_military
    button: |
      **Served military**:
      ${ served_military }
  - Edit: worked_detention_facility
    button: |
      **Worked detention facility**:
      ${ worked_detention_facility }
  - Edit: benefited_human_trafficking
    button: |
      **Benefited human trafficking**:
      ${ benefited_human_trafficking }
  - Edit: laundering_as_described_in_section_1956_or_1957_of_Title
    button: |
      **Laundering as described in section 1956 or 1957 of title**:
      ${ laundering_as_described_in_section_1956_or_1957_of_Title }
  - Edit: group_using_weapons
    button: |
      **Group using weapons**:
      ${ group_using_weapons }
  - Edit: helped_money_laundering
    button: |
      **Helped money laundering**:
      ${ helped_money_laundering }
  - Edit: helped_weapons
    button: |
      **Helped weapons**:
      ${ word(yesno(helped_weapons)) }
  - Edit: weapon_training
    button: |
      **Weapon training**:
      ${ word(yesno(weapon_training)) }
  - Edit: violated_religious_freedom
    button: |
      **Violated religious freedom**:
      ${ violated_religious_freedom }
  - Edit: illegal_voted_us
    button: |
      **Illegal voted us**:
      ${ illegal_voted_us }
  - Edit: past_determination_of_frivolous_asylum
    button: |
      **Past determination of frivolous asylum**:
      ${ past_determination_of_frivolous_asylum }
  - Edit: claimed_us_citizen
    button: |
      **Claimed us citizen**:
      ${ claimed_us_citizen }
  - Edit: conscripted_child_soldier
    button: |
      **Conscripted child soldier**:
      ${ conscripted_child_soldier }
  - Edit: used_child_soldier
    button: |
      **Used child soldier**:
      ${ used_child_soldier }
  - Edit: user_reads_english
    button: |
      **User reads english**:
      ${ word(yesno(user_reads_english)) }
  - Edit: committed_human_trafficking
    button: |
      **Committed human trafficking**:
      ${ committed_human_trafficking }
  - Edit: user_used_interpreter
    button: |
      **User used interpreter**:
      ${ word(yesno(user_used_interpreter)) }
  - Edit: helped_human_trafficking
    button: |
      **Helped human trafficking**:
      ${ helped_human_trafficking }
  - Edit: interpreter_spoke_language
    button: |
      **Interpreter spoke language**:
      ${ interpreter_spoke_language }
  - Edit: user_used_preparer
    button: |
      **User used preparer**:
      ${ word(yesno(user_used_preparer)) }
  - Edit: spouse_child_human_trafficker
    button: |
      **Spouse child human trafficker**:
      ${ spouse_child_human_trafficker }
  - Edit: preparer.revisit
    button: |
      **Preparer**

      % for item in preparer:
        * ${ item }
      % endfor
  - Edit: interpreter.revisit
    button: |
      **Interpreter**

      % for item in interpreter:
        * ${ item }
      % endfor
  - Edit: interpreter_organization
    button: |
      **Interpreter organization**:
      ${ interpreter_organization }
  - Edit: interpreted_into_language
    button: |
      **Interpreted into language**:
      ${ interpreted_into_language }
  - Edit: signature_date
    button: |
      **Date of signature**:
      ${ signature_date }
  - Edit: preparer_is_attorney
    button: |
      **Preparer is attorney**:
      ${ word(yesno(preparer_is_attorney)) }
  - Edit: preparer_full_rep
    button: |
      **Preparer full rep**:
      ${ word(yesno(preparer_full_rep)) }
  - Edit: preparer_limited_rep
    button: |
      **Preparer limited rep**:
      ${ word(yesno(preparer_limited_rep)) }
  - Edit: preparer_organization
    button: |
      **Preparer organization**:
      ${ preparer_organization }
  - Edit: Page_Number_3
    button: |
      **Page number 3**:
      ${ Page_Number_3 }
  - Edit: Part_Number_3
    button: |
      **Part number 3**:
      ${ Part_Number_3 }
  - Edit: Item_Number_3
    button: |
      **Item number 3**:
      ${ Item_Number_3 }
  - Edit: _3
    button: |
      **3**:
      ${ _3 }
  - Edit: sign_and_date_each_sheet
    button: |
      **Sign and date each sheet**:
      ${ sign_and_date_each_sheet }
  - Edit: First_Name_9
    button: |
      **First name 9**:
      ${ First_Name_9 }
  - Edit: Middle_Name_8
    button: |
      **Middle name 8**:
      ${ Middle_Name_8 }
  - Edit: A_3
    button: |
      **A 3**:
      ${ A_3 }
  - Edit: Page_Number
    button: |
      **Page number**:
      ${ Page_Number }
  - Edit: Part_Number
    button: |
      **Part number**:
      ${ Part_Number }
  - Edit: Item_Number
    button: |
      **Item number**:
      ${ Item_Number }
  - Edit: Page_Number_4
    button: |
      **Page number 4**:
      ${ Page_Number_4 }
  - Edit: Part_Number_4
    button: |
      **Part number 4**:
      ${ Part_Number_4 }
  - Edit: Item_Number_4
    button: |
      **Item number 4**:
      ${ Item_Number_4 }
  - Edit: _4
    button: |
      **4**:
      ${ _4 }
  - Edit: Page_Number_2
    button: |
      **Page number 2**:
      ${ Page_Number_2 }
  - Edit: Part_Number_2
    button: |
      **Part number 2**:
      ${ Part_Number_2 }
  - Edit: Item_Number_2
    button: |
      **Item number 2**:
      ${ Item_Number_2 }
  - Edit: Page_Number_5
    button: |
      **Page number 5**:
      ${ Page_Number_5 }
  - Edit: Part_Number_5
    button: |
      **Part number 5**:
      ${ Part_Number_5 }
  - Edit: Item_Number_5
    button: |
      **Item number 5**:
      ${ Item_Number_5 }
  - Edit: _2
    button: |
      **2**:
      ${ _2 }
  - Edit: _5
    button: |
      **5**:
      ${ _5 }
---
continue button field: users.revisit
question: |
  Edit users
subquestion: |
  ${ users.table }

  ${ users.add_action() }
---
table: users.table
rows: users
columns:
  - Name: |
      row_item.name.full() if defined("row_item.name.middle") else ""
  - Previous names[0]: |
      row_item.previous_names[0] if defined("row_item.previous_names[0].middle") else ""
  - Birthdate: |
      row_item.birthdate if defined("row_item.birthdate") else ""
  - Previous names[1]: |
      row_item.previous_names[1] if defined("row_item.previous_names[1].middle") else ""
  - Gender: |
      row_item.gender if defined("row_item.gender") else ""
  - Mailing address: |
      row_item.mailing_address.block() if defined("row_item.mailing_address.zip") else ""
  - Address: |
      row_item.address.block() if defined("row_item.address.country") else ""
  - Phone number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
  - Mobile number: |
      row_item.mobile_number if defined("row_item.mobile_number") else ""
  - Email: |
      row_item.email if defined("row_item.email") else ""
edit:
  - name.middle
  - previous_names[0].middle
  - birthdate
  - previous_names[1].middle
  - gender
  - mailing_address.zip
  - address.country
  - phone_number
  - mobile_number
  - email
confirm: True

---
continue button field: children.revisit
question: |
  Edit children
subquestion: |
  ${ children.table }

  ${ children.add_action() }
---
table: children.table
rows: children
columns:
  - Name: |
      row_item.name.full() if defined("row_item.name.middle") else ""
  - Birthdate: |
      row_item.birthdate if defined("row_item.birthdate") else ""
  - Address: |
      row_item.address.block() if defined("row_item.address.country") else ""
edit:
  - name.middle
  - birthdate
  - address.country
confirm: True

---
continue button field: preparer.revisit
question: |
  Edit preparer
subquestion: |
  ${ preparer.table }

  ${ preparer.add_action() }
---
table: preparer.table
rows: preparer
columns:
  - Name: |
      row_item.name.full() if defined("row_item.name.first") else ""
  - Phone number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
  - Mobile number: |
      row_item.mobile_number if defined("row_item.mobile_number") else ""
  - Email: |
      row_item.email if defined("row_item.email") else ""
edit:
  - name.first
  - phone_number
  - mobile_number
  - email
confirm: True

---
continue button field: interpreter.revisit
question: |
  Edit interpreter
subquestion: |
  ${ interpreter.table }

  ${ interpreter.add_action() }
---
table: interpreter.table
rows: interpreter
columns:
  - Name: |
      row_item.name.full() if defined("row_item.name.first") else ""
  - Phone number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
  - Mobile number: |
      row_item.mobile_number if defined("row_item.mobile_number") else ""
  - Email: |
      row_item.email if defined("row_item.email") else ""
edit:
  - name.first
  - phone_number
  - mobile_number
  - email
confirm: True

---
id: download USCISApplications
event: USCISApplications_download
question: |
  All done
subquestion: |
  Thank you ${users}. Your form is ready to download and deliver.
  
  View, download and send your form below. Click the "Edit answers" button to fix any mistakes.

  ${ action_button_html(url_action('review_USCISApplications'), label='Edit answers', color='info') }
  
  
  ${ al_user_bundle.download_list_html() }
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

progress: 100
---
# ALDocument objects specify the metadata for each template
objects:
  - USCISApplications_attachment: ALDocument.using(title="Apply for temporary protected status", filename="USCISApplications", enabled=True, has_addendum=False, )
---
# Bundles group the ALDocuments into separate downloads, such as for court and for the user
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[USCISApplications_attachment], filename="USCISApplications", title="All forms to download for your records", enabled=True)
  - al_recipient_bundle: ALDocumentBundle.using(elements=[USCISApplications_attachment],  filename="USCISApplications", title="All forms to file", enabled=True)
---
# Each attachment defines a key in an ALDocument. We use `i` as the placeholder here so the same template is 
# used for "preview" and "final" keys, and logic in the template checks the value of 
# `i` to show or hide the user's signature
---
attachment:
  name: Apply for temporary protected statu
  filename: USCISApplications
  variable name: USCISApplications_attachment[i]
  skip undefined: True
  pdf template file: USCISApplications.pdf
  fields:
      - "is_form_g28_attached": ${ is_form_g28_attached }
      - "attorneys1_bar_number": ${ attorneys1_bar_number }
      - "attorney_online_account_number": ${ attorney_online_account_number }
      - "is_first_application": ${ users[0].is_first_TPS_application == "First TPS Application" }
      - "is_re_application": ${ not users[0].is_first_TPS_application == "First TPS Application" }
      - "tps_application_country": ${ tps_application_country }
      - "users1_name_last": ${ users[0].name.last }
      - "users1_name_first": ${ users[0].name.first }
      - "users1_name_middle": ${ users[0].name.middle }
      - "is_USCIS_re_application": ${ who_granted_prior_TPS["USCIS"] }
      - "is_judge_re_application": ${ who_granted_prior_TPS["Immigration Judge/Board of Immigration Appeals"] }
      - "users1_a_number": ${ users[0].a_number }
      - "users1_uscis_account_number": ${ users[0].uscis_account_number }
      - "users1_previous_names1_last": ${ users[0].previous_names[0].last }
      - "users1_ssn": ${ users[0].ssn }
      - "users1_previous_names1_first": ${ users[0].previous_names[0].first }
      - "users1_birthdate": ${ users[0].birthdate.format() }
      - "users1_previous_names1_middle": ${ users[0].previous_names[0].middle }
      - "users1_previous_names2_last": ${ users[0].previous_names[1].last }
      - "users1_previous_names2_first": ${ users[0].previous_names[1].first }
      - "users1_alternate_birthdate": ${ users[0].alternate_birthdate.format() }
      - "users1_previous_names2_middle": ${ users[0].previous_names[1].middle }
      - "users1_alternate_birthdate_2": ${ users[0].alternate_birthdate_2 }
      - "users1_gender": ${ users[0].gender }
      - "users1_mailing_address_in_care_of": ${ users[0].mailing_address_in_care_of }
      - "users1_mailing_address_address": ${ users[0].mailing_address.address }
      - "city_of_birth": ${ city_of_birth }
      - "users1_mailing_address_is_apt": ${ users[0].mailing_address_is_apt }
      - "users1_mailing_address_is_suite": ${ users[0].mailing_address_is_suite }
      - "users1_mailing_address_is_floor": ${ users[0].mailing_address_is_floor }
      - "users1_mailing_address_unit": ${ users[0].mailing_address.unit }
      - "country_of_birth": ${ country_of_birth }
      - "users1_mailing_address_city": ${ users[0].mailing_address.city }
      - "users1_mailing_address_state": ${ users[0].mailing_address.state }
      - "users1_mailing_address_zip": ${ users[0].mailing_address.zip }
      - "mailing_address_is_physical_address": ${ mailing_address_is_physical_address }
      - "mailing_address_is_physical_address": ${ mailing_address_is_physical_address }
      - "users1_countries_of_residence": ${ users[0].countries_of_residence }
      - "users1_address_address": ${ users[0].address.address }
      - "users1_address_is_apt": ${ users[0].address_is_apt }
      - "users1_address_is_suite": ${ users[0].address_is_suite }
      - "users1_address_is_floor": ${ users[0].address_is_floor }
      - "users1_address_unit": ${ users[0].address.unit }
      - "users1_countries_of_citizenship": ${ users[0].countries_of_citizenship }
      - "users1_address_city": ${ users[0].address.city }
      - "users1_address_state": ${ users[0].address.state }
      - "users1_address_zip": ${ users[0].address.zip }
      - "is_married": ${ is_married }
      - "is_unmarried": ${ is_unmarried }
      - "is_divorced": ${ is_divorced }
      - "is_widowed": ${ is_widowed }
      - "is_separated": ${ is_separated }
      - "is_annulled": ${ is_annulled }
      - "is_other_marital_status": ${ is_other_marital_status }
      - "marital_status_other_explanation": ${ marital_status_other_explanation }
      - "marriage_date": ${ marriage_date.format() }
      - "marriage_date__2": ${ marriage_date.format() }
      - "current_immigration_status": ${ current_immigration_status }
      - "has_been_in_immigration_proceedings": ${ has_been_in_immigration_proceedings }
      - "date_of_last_arrival": ${ date_of_last_arrival }
      - "proceedings_was_immigration_court": ${ proceedings_was_immigration_court }
      - "proceedings_was_bia": ${ proceedings_was_bia }
      - "date_of_last_entry": ${ date_of_last_entry }
      - "proceedings_was_federal_court": ${ proceedings_was_federal_court }
      - "port_of_entry": ${ port_of_entry }
      - "city_of_entry": ${ city_of_entry }
      - "proceedings_dhs_or_doj_hearing_location": ${ proceedings_dhs_or_doj_hearing_location }
      - "state_of_entry": ${ state_of_entry }
      - "i94_arrival_number": ${ i94_arrival_number }
      - "proceedings_federal_court_location": ${ proceedings_federal_court_location }
      - "authorized_stay_ending_date": ${ authorized_stay_ending_date.format() }
      - "proceedings_start_date": ${ proceedings_start_date.format() }
      - "proceedings_end_date": ${ proceedings_end_date.format() }
      - "proceedings_continuing_to_present": ${ proceedings_continuing_to_present }
      - "passport_number": ${ passport_number }
      - "travel_document_number": ${ travel_document_number }
      - "ethnicity_hispanic_yes": ${ ethnicity_hispanic }
      - "ethnicity_hispanic_no": ${ not ethnicity_hispanic }
      - "additional_passport_number_1": ${ additional_passport_number_1 }
      - "additional_passport_number_2": ${ additional_passport_number_2 }
      - "race_white": ${ race_white }
      - "race_asian": ${ race_asian }
      - "most_recent_passport_country_issuing": ${ most_recent_passport_country_issuing }
      - "race_black": ${ race_black }
      - "race_american_indian": ${ race_american_indian }
      - "passport_or_travel_document_expiration_date": ${ passport_or_travel_document_expiration_date.format() }
      - "race_native_hawaiian": ${ race_native_hawaiian }
      - "height_feet": ${ height_feet }
      - "height_inches": ${ height_inches }
      - "users2_address_address": ${ users[1].address.address }
      - "users2_address_is_apt": ${ users[0].spouse.address_is_apt }
      - "users2_address_is_suite": ${ users[0].spouse.address_is_suite }
      - "users2_address_is_floor": ${ users[0].spouse.address_is_floor }
      - "weight_pounds": ${ weight_pounds }
      - "users2_address_unit": ${ users[1].address.unit }
      - "users2_address_city": ${ users[1].address.city }
      - "eye_color_black": ${ eye_color_black }
      - "eye_color_blue": ${ eye_color_blue }
      - "eye_color_brown": ${ eye_color_brown }
      - "users2_address_state": ${ users[1].address.state }
      - "users2_address_zip": ${ users[1].address.zip }
      - "eye_color_gray": ${ eye_color_gray }
      - "eye_color_green": ${ eye_color_green }
      - "eye_color_hazel": ${ eye_color_hazel }
      - "eye_color_marooon": ${ eye_color_marooon }
      - "eye_color_pink": ${ eye_color_pink }
      - "users2_address_province": ${ users[0].spouse.address_province }
      - "eye_color_unknown": ${ eye_color_unknown }
      - "users2_address_postal_code": ${ users[0].spouse.address_postal_code }
      - "hair_bald": ${ hair_bald }
      - "hair_black": ${ hair_black }
      - "hair_blond": ${ hair_blond }
      - "users2_address_country": ${ users[1].address.country }
      - "hair_brown": ${ hair_brown }
      - "hair_gray": ${ hair_gray }
      - "hair_red": ${ hair_red }
      - "hair_sandy": ${ hair_sandy }
      - "White_2": ${ White_2 }
      - "users2_birthdate": ${ users[1].birthdate.format() }
      - "hair_unknown": ${ hair_unknown }
      - "marriage_location": ${ marriage_location }
      - "marriage_city": ${ marriage_city }
      - "marriage_state": ${ marriage_state }
      - "marriage_province": ${ marriage_province }
      - "marriage_country": ${ marriage_country }
      - "users2_online_account_number": ${ users[0].spouse.online_account_number }
      - "spouse_had_tps": ${ spouse_had_tps }
      - "users2_a_number": ${ users[0].spouse.a_number }
      - "users2_name_last": ${ users[1].name.last }
      - "spouse_tps_date": ${ spouse_tps_date.format() }
      - "users2_name_first": ${ users[1].name.first }
      - "spouse_tps_ending_date": ${ spouse_tps_ending_date.format() }
      - "users2_name_middle": ${ users[1].name.middle }
      - "spouse_tps_continuing": ${ spouse_tps_continuing }
      - "spouse_tps_dates_unknown": ${ spouse_tps_dates_unknown }
      - "spouse_is_tps_valid": ${ spouse_is_tps_valid }
      - "users4_name_last": ${ users[3].name.last }
      - "users4_name_first": ${ users[3].name.first }
      - "users4_name_middle": ${ users[3].name.middle }
      - "users4_nationality": ${ users4_nationality }
      - "users4_a_number": ${ users4_a_number }
      - "users3_name_last": ${ users[2].name.last }
      - "users4_birthdate": ${ users[3].birthdate.format() }
      - "users3_name_first": ${ users[2].name.first }
      - "users3_name_middle": ${ users[2].name.middle }
      - "users4_death_date": ${ users4_death_date.format() }
      - "users3_nationality": ${ users3_nationality }
      - "users4_marriage_start_date": ${ users4_marriage_start_date.format() }
      - "users4_marriage_end_date": ${ users4_marriage_end_date.format() }
      - "users3_a_number": ${ users3_a_number }
      - "users3_birthdate": ${ users[2].birthdate.format() }
      - "users4_marriage_ending_reason": ${ users4_marriage_ending_reason }
      - "users3_death_date": ${ users3_death_date.format() }
      - "second_spouse_has_tps": ${ second_spouse_has_tps }
      - "users3_marriage_date": ${ users3_marriage_date.format() }
      - "second_spouse_tps_start_date": ${ second_spouse_tps_start_date.format() }
      - "users3_marriage_ending_date": ${ users3_marriage_ending_date.format() }
      - "second_spouse_tps_end_date": ${ second_spouse_tps_end_date.format() }
      - "second_spouse_tps_continues": ${ second_spouse_tps_continues }
      - "second_spouse_tps_dates_unknown": ${ second_spouse_tps_dates_unknown }
      - "users3_marriage_ending_reason": ${ users3_marriage_ending_reason }
      - "first_spouse_had_tps": ${ first_spouse_had_tps }
      - "first_spouse_tps_start_date": ${ first_spouse_tps_start_date.format() }
      - "first_spouse_tps_end_date": ${ first_spouse_tps_end_date.format() }
      - "first_spouse_tps_continuing": ${ first_spouse_tps_continuing }
      - "first_spouse_tps_dates_unknown": ${ first_spouse_tps_dates_unknown }
      - "first_spouse_applying_for_tps": ${ first_spouse_applying_for_tps }
      - "children2_name_last": ${ children[1].name.last }
      - "children2_name_first": ${ children[1].name.first }
      - "children2_name_middle": ${ children[1].name.middle }
      - "children2_online_account_number": ${ children2_online_account_number }
      - "children2_a_number": ${ children2_a_number }
      - "children2_birthdate": ${ children[1].birthdate.format() }
      - "children1_name_last": ${ children[0].name.last }
      - "children1_name_first": ${ children[0].name.first }
      - "children1_name_middle": ${ children[0].name.middle }
      - "children2_address_address": ${ children[1].address.address }
      - "children2_address_is_apt": ${ children2_address_is_apt }
      - "children2_address_is_suite": ${ children2_address_is_suite }
      - "children2_address_is_floor": ${ children2_address_is_floor }
      - "children2_address_unit": ${ children[1].address.unit }
      - "children1_online_account_number": ${ children1_online_account_number }
      - "children2_address_city": ${ children[1].address.city }
      - "children1_a_number": ${ children1_a_number }
      - "children2_address_state": ${ children[1].address.state }
      - "children2_address_zip": ${ children[1].address.zip }
      - "children1_birthdate": ${ children[0].birthdate.format() }
      - "children2_address_province": ${ children2_address_province }
      - "children2_address_postal_code": ${ children2_address_postal_code }
      - "children1_address_street": ${ children[0].address.address }
      - "children2_address_country": ${ children[1].address.country }
      - "children1_address_is_apt": ${ children1_address_is_apt }
      - "children1_address_is_suite": ${ children1_address_is_suite }
      - "children1_address_is_floor": ${ children1_address_is_floor }
      - "children1_address_unit": ${ children[0].address.unit }
      - "children1_address_city": ${ children[0].address.city }
      - "children2_tps_start_date": ${ children2_tps_start_date.format() }
      - "children1_address_state": ${ children[0].address.state }
      - "children1_address_zip": ${ children[0].address.zip }
      - "children2_tps_end_date": ${ children2_tps_end_date.format() }
      - "children1_address_province": ${ children1_address_province }
      - "children2_applying_for_tps": ${ children2_applying_for_tps }
      - "children1_address_postal_code": ${ children1_address_postal_code }
      - "children1_address_country": ${ children[0].address.country }
      - "children1_tps_start_date": ${ children1_tps_start_date.format() }
      - "children1_tps_end_date": ${ children1_tps_end_date.format() }
      - "last_country_of_residence": ${ last_country_of_residence }
      - "children1_applying_for_tps": ${ children1_applying_for_tps }
      - "date_started_us_residence": ${ date_started_us_residence }
      - "entered_country_other_than_residence_country_before_us": ${ entered_country_other_than_residence_country_before_us }
      - "other_countries_entered_list": ${ other_countries_entered_list }
      - "other_country_entered_start_date": ${ other_country_entered_start_date.format() }
      - "other_country_entered_end_date": ${ other_country_entered_end_date.format() }
      - "other_country_immigration_status": ${ other_country_immigration_status }
      - "other_country_immigration_status_offered": ${ other_country_immigration_status_offered }
      - "other_country_immigration_status_names_and_status": ${ other_country_immigration_status_names_and_status }
      - "other_country_immigration_status_why_refused": ${ other_country_immigration_status_why_refused }
      - "convicted_of_felony_in_us": ${ convicted_of_felony_in_us }
      - "convicted_of_misdemeanor_us": ${ convicted_of_misdemeanor_us }
      - "particularly_serious_crime": ${ particularly_serious_crime }
      - "got_financial_benefit_crime": ${ got_financial_benefit_crime }
      - "persecution_by_protected_status": ${ persecution_by_protected_status }
      - "engaged_espionage": ${ engaged_espionage }
      - "serious_nonpolitical_crime": ${ serious_nonpolitical_crime }
      - "Yes_29": ${ Yes_29 }
      - "evade_export_controls": ${ evade_export_controls }
      - "danger_to_us": ${ danger_to_us }
      - "Yes_30": ${ Yes_30 }
      - "convicted_or_committed_any_crime": ${ convicted_or_committed_any_crime }
      - "acted_in_overthrow_of_us": ${ acted_in_overthrow_of_us }
      - "convicted_committed_drugs": ${ convicted_committed_drugs }
      - "acted_as_terrorist": ${ acted_as_terrorist }
      - "convicted_committed_conspiracy_drugs": ${ convicted_committed_conspiracy_drugs }
      - "negative_foreign_policy": ${ negative_foreign_policy }
      - "convicted_2_or_more_crimes_totalling_5_or_more_years_yes": ${ convicted_2_or_more_crimes_totalling_5_or_more_years }
      - "convicted_2_or_more_crimes_totalling_5_or_more_years_no": ${ not convicted_2_or_more_crimes_totalling_5_or_more_years }
      - "is_communist": ${ is_communist }
      - "ever_trafficked_yes": ${ ever_trafficked }
      - "ever_trafficked_no": ${ not ever_trafficked }
      - "is_nazi": ${ is_nazi }
      - "trafficking_drugs": ${ trafficking_drugs }
      - "ever_arrested": ${ ever_arrested }
      - "spouse_or_child_of_drug_trafficker": ${ spouse_or_child_of_drug_trafficker }
      - "ever_cited": ${ ever_cited }
      - "spouse_or_child_drug_abetter": ${ spouse_or_child_drug_abetter }
      - "ever_fined_jailed_suspended": ${ ever_fined_jailed_suspended }
      - "has_communicable_disease": ${ has_communicable_disease }
      - "ever_got_clemency": ${ ever_got_clemency }
      - "has_dangerous_disorder": ${ has_dangerous_disorder }
      - "ever_asserted_immunity_prosecution": ${ ever_asserted_immunity_prosecution }
      - "drug_addict_yes": ${ drug_addict }
      - "drug_addict_no": ${ not drug_addict }
      - "prostitution_last_10_years": ${ prostitution_last_10_years }
      - "stowaway_yes": ${ stowaway }
      - "stowaway_no": ${ not stowaway }
      - "procured_prostitute_10_years": ${ procured_prostitute_10_years }
      - "fined_for_false_documentation": ${ fined_for_false_documentation }
      - "pimped_10_years": ${ pimped_10_years }
      - "Immigration and Nationality Act": ${ Immigration_and_Nationality_Act }
      - "Do you NOW practice polygamy": ${ Do_you_NOW_practice_polygamy }
      - "involved_in_commercial_vice": ${ involved_in_commercial_vice }
      - "ever_ordered_removed": ${ ever_ordered_removed }
      - "examiner to be helpless due to sickness physical or": ${ examiner_to_be_helpless_due_to_sickness_physical_or }
      - "ever_departed_removal_order": ${ ever_departed_removal_order }
      - "citizenship outside the United States from a US citizen": ${ citizenship_outside_the_United_States_from_a_US_citizen }
      - "dhs_reinstated_before_removal": ${ dhs_reinstated_before_removal }
      - "genocide_yes": ${ genocide }
      - "genocide_no": ${ not genocide }
      - "ever_failed_to_attend_deportation_hearing": ${ ever_failed_to_attend_deportation_hearing }
      - "killing_yes": ${ killing }
      - "killing_no": ${ not killing }
      - "severe_injury_yes": ${ severe_injury }
      - "severe_injury_no": ${ not severe_injury }
      - "ever_lied_visa_or_admission": ${ ever_lied_visa_or_admission }
      - "ever_helped_someone_enter_illegally": ${ ever_helped_someone_enter_illegally }
      - "forced_sex": ${ forced_sex }
      - "denied_religious_exercise": ${ denied_religious_exercise }
      - "spouse_child_helped_human_trafficker": ${ spouse_child_helped_human_trafficker }
      - "served_military": ${ served_military }
      - "worked_detention_facility": ${ worked_detention_facility }
      - "benefited_human_trafficking": ${ benefited_human_trafficking }
      - "laundering as described in section 1956 or 1957 of Title": ${ laundering_as_described_in_section_1956_or_1957_of_Title }
      - "group_using_weapons": ${ group_using_weapons }
      - "helped_money_laundering": ${ helped_money_laundering }
      - "helped_weapons_yes": ${ helped_weapons }
      - "helped_weapons_no": ${ not helped_weapons }
      - "weapon_training_yes": ${ weapon_training }
      - "weapon_training_no": ${ not weapon_training }
      - "violated_religious_freedom": ${ violated_religious_freedom }
      - "illegal_voted_us": ${ illegal_voted_us }
      - "past_determination_of_frivolous_asylum": ${ past_determination_of_frivolous_asylum }
      - "claimed_us_citizen": ${ claimed_us_citizen }
      - "conscripted_child_soldier": ${ conscripted_child_soldier }
      - "used_child_soldier": ${ used_child_soldier }
      - "user_reads_english": ${ user_reads_english }
      - "committed_human_trafficking": ${ committed_human_trafficking }
      - "user_used_interpreter": ${ user_used_interpreter }
      - "helped_human_trafficking": ${ helped_human_trafficking }
      - "interpreter_spoke_language": ${ interpreter_spoke_language }
      - "user_used_preparer": ${ user_used_preparer }
      - "spouse_child_human_trafficker": ${ spouse_child_human_trafficker }
      - "preparer_name": ${ preparer[0] }
      - "users1_phone_number": ${ users[0].phone_number }
      - "interpreter_name_last": ${ interpreter[0].name.last }
      - "users1_mobile_number": ${ users[0].mobile_number }
      - "interpreter_name_first": ${ interpreter[0].name.first }
      - "users1_email": ${ users[0].email }
      - "interpreter_organization": ${ interpreter_organization }
      - "interpreter_phone_number": ${ interpreter[0].phone_number }
      - "interpreter_mobile_number": ${ interpreter[0].mobile_number }
      - "interpreter_email": ${ interpreter[0].email }
      - "interpreted_into_language": ${ interpreted_into_language }
      - "signature_date": ${ signature_date }
      - "signature_date__1": ${ signature_date }
      - "signature_date__2": ${ signature_date }
      - "preparer_is_attorney_yes": ${ preparer_is_attorney }
      - "preparer_is_attorney_no": ${ not preparer_is_attorney }
      - "preparer_full_rep": ${ preparer_full_rep }
      - "preparer_limited_rep": ${ preparer_limited_rep }
      - "preparer_name_last": ${ preparer[0].name.last }
      - "preparer_name_first": ${ preparer[0].name.first }
      - "preparer_organization": ${ preparer_organization }
      - "preparer_phone_number": ${ preparer[0].phone_number }
      - "preparer_mobile_number": ${ preparer[0].mobile_number }
      - "preparer_email": ${ preparer[0].email }
      - "Page Number_3": ${ Page_Number_3 }
      - "Part Number_3": ${ Part_Number_3 }
      - "Item Number_3": ${ Item_Number_3 }
      - "1_3": ${ _3 }
      - "2_3": ${ _3 }
      - "3_3": ${ _3 }
      - "4_3": ${ _3 }
      - "5_3": ${ _3 }
      - "6_3": ${ _3 }
      - "7_3": ${ _3 }
      - "8_3": ${ _3 }
      - "9_3": ${ _3 }
      - "10_3": ${ _3 }
      - "sign and date each sheet": ${ sign_and_date_each_sheet }
      - "First Name_9": ${ First_Name_9 }
      - "Middle Name_8": ${ Middle_Name_8 }
      - "A_3": ${ A_3 }
      - "Page Number": ${ Page_Number }
      - "Part Number": ${ Part_Number }
      - "Item Number": ${ Item_Number }
      - "Page Number_4": ${ Page_Number_4 }
      - "Part Number_4": ${ Part_Number_4 }
      - "Item Number_4": ${ Item_Number_4 }
      - "1_4": ${ _4 }
      - "2_4": ${ _4 }
      - "3_4": ${ _4 }
      - "4_4": ${ _4 }
      - "5_4": ${ _4 }
      - "6_4": ${ _4 }
      - "7_4": ${ _4 }
      - "8_4": ${ _4 }
      - "9_4": ${ _4 }
      - "10_4": ${ _4 }
      - "Page Number_2": ${ Page_Number_2 }
      - "Part Number_2": ${ Part_Number_2 }
      - "Item Number_2": ${ Item_Number_2 }
      - "Page Number_5": ${ Page_Number_5 }
      - "Part Number_5": ${ Part_Number_5 }
      - "Item Number_5": ${ Item_Number_5 }
      - "1_2": ${ _2 }
      - "2_2": ${ _2 }
      - "3_2": ${ _2 }
      - "4_2": ${ _2 }
      - "5_2": ${ _2 }
      - "6_2": ${ _2 }
      - "7_2": ${ _2 }
      - "8_2": ${ _2 }
      - "9_2": ${ _2 }
      - "10_2": ${ _2 }
      - "1_5": ${ _5 }
      - "2_5": ${ _5 }
      - "3_5": ${ _5 }
      - "4_5": ${ _5 }
      - "5_5": ${ _5 }
      - "6_5": ${ _5 }
      - "7_5": ${ _5 }
      - "8_5": ${ _5 }
      - "9_5": ${ _5 }
      - "10_5": ${ _5 }