---
objects:
  - screener: ALIndividual
  - users[i].history: DAList.using(object_type=DAObject, there_are_any=True, complete_attribute='complete')
  - users[i].children: ALPeopleList.using(there_are_any=True, complete_attribute='complete')
  - users[i].criminal: DAList.using(object_type=DAObject, there_are_any=False, complete_attribute='complete')
---
id: screener
question: |
  Let's get started
subquestion: |

  This interview will help you complete an individual comprehensive legal screener.

  <h2 class="h4">Overview</h2>

  You will work through the following sections:

  1. Gather basic information about yourself.
  2. Completing the immigration history and encounters.
  3. Additional family information such as your spouse, children, and parents.
  4. Complete the rest of the questions to consider your eligibility.
  5. At the end of the interview the comprehensive legal screener will downloadable and you will receive
  your copy.
continue button field: screener_intro
---
sets:
  - screener.name.first
  - screener.name.middle
  - screener.name.last
id: screener name
question: |
  Who is helping with this screener?
fields:
  - Screener is: screener
    datatype: object_radio
    none of the above: Someone else
    disable others:
      - screener.name.first
      - screener.name.middle
      - screener.name.last
    choices: |
      [signed_in_user] if user_logged_in() else []
  - note: |
      <h2 class="h4">Screener's Name</h2>      
  - code: |
      screener.name_fields(person_or_business="person", show_suffix=False,)
  - My professional role is: screener_professional_role
    datatype: radio
    choices:
      - Attorney: attorney
      - DOJ Accredited Representative: rep
      - Paralegal: paralegal
      - Other: other
  - "Other professional role": screener_professional_role_other
    maxlength: 30
    show if: 
      variable: screener_professional_role
      is: "other"
---
id: informed
question: |
  Inform the applicant
subquestion: |
  Today's meeting is only a consultation intended to give legal advice. I'll explain your rights,
  legal processes, and review relief options (if any). This is a consultation only and any advice
  given does not initiate or constitute an attorney-client relationship. All information discussed
  today is confidential and it is important that you provide true and accurate information to 
  determine how to best assist and protect you. 
fields:
  - no label: informed_yes
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read this information to the applicant.: Yes
    validation messages:
      minlength: |
        You cannot continue unless you have read the above to the applicant.
continue button field: informed_agreement
---
id: explained role
question: |
  Explain your professional role
subquestion: |
  I am an 
  % if screener_professional_role == 'attorney':
  Attorney. 
  % elif screener_professional_role == 'rep':
  DOJ Representative. 
  % elif screener_professional_role == 'paralegal':
  Paralegal. 
  % else:
  ${ screener_professional_role_other }. 
  % endif 
  I do not work for the government, and I won't share your 
  information with the government without your approval and consent. Any information gathered 
  today is solely for our records and for grant funding purposes. 
fields:
  - no label: explained_yes
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have explained my professional role to the applicant.: Yes
    validation messages:
      minlength: |
        You cannot continue unless you have explained your professional role to the applicant.
continue button field: explained_role
---
id: required consent
question: |
  Obtain consent
fields:
  - note: |
      Do you agree to allow legal service provider to share information about your case, but not your identity, with collaborating nonprofits, for assistance and/or referral purposes (if needed)?
  - note: |
      Do you agree to share some biographic data and case type data with our grant providers to continue to offer services free of charge?
  - no label: consent_yes
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I agree to the above.: Yes
    validation messages:
      minlength: |
        You cannot continue unless you agree to the above statements.
continue button field: consent_agreement
---
id: basic information
question: |
    What is your full legal name?
fields:
  - First name: users[0].name.first
  - Middle name: users[0].name.middle
    required: False
  - Last name: users[0].name.last
  - Suffix: users[0].name.suffix
    required: False
    code: name_suffix()
  - Have you ever been known by a different name?: users[0].aliases.there_are_any
    datatype: yesnoradio
  - note: |
      OK, we'll get the other names you used on the next screen.
    show if: users[0].aliases.there_are_any
  - Country of birth: users[0].country_of_birth
    input type: dropdown
    code: |
      uscis_countries_list()  
  - Country of citizenship: users[0].country_of_citizenship
    input type: dropdown
    required: False
    code: |
      uscis_countries_list()
  - Birthdate: users[0].birthdate
    datatype: BirthDate
    alMax: ${ today().format("yyyy-MM-dd") }
  - A Number (do not include A-): users[0].a_number
    required: False
    validate: |
      lambda y: (not y) or re.match(r'^\d{8,9}$', str(y)) or validation_error("Enter a valid 8 or 9 digit A number")
continue button field: users[0].screening_user
---
id: immigration legal representative
question: |
  Do you have a lawyer helping with your immigration status?
fields:
  - no label: users[0].current_rep
    datatype: yesnoradio
  - note: |
      List the name and contact information, status/location of your case, etc.
    show if: users[0].current_rep
  - Explain legal representation: users[0].current_rep_detail
    datatype: area
    rows: 2
    show if: users[0].current_rep
---
id: immigration nta
question: |
  Do you have a Notice to Appear?
fields:
  - no label: users[0].notice_to_appear
    datatype: yesnoradio
---
id: immigration hearing
question: |
  Notice to Appear hearing details
subquestion: |
  Enter information about the hearing. If this isn't available on the Notice to Appear, you may be 
  able to find hearing details by using the EOIR system with the applicant's A- number.
fields:
  - Does the Notice to Appear have a hearing date?: users[0].hearing
    datatype: yesnoradio
    required: False
  - Hearing location (city, state): users[0].hearing_location
    required: False
  - Hearing date: users[0].hearing_date
    datatype: ThreePartsDate
    required: False
  - Type of Hearing: users[0].options
    datatype: radio
    choices: 
      - Master Calendar Hearing (MC/MCH): mc
      - Individual Hearing (INDV): indv 
      - Bond: bond
      - I don't know: idk
    required: False
---
id: ICE check in
question: |
  Do you have to check in with Immigration Customs Enforcement?
fields:
  - no label: users[0].ice_check
    datatype: yesnoradio
  - Next check-in location (city, state): users[0].ice_location
    show if: users[0].ice_check
  - Date: users[0].ice_date
    datatype: ThreePartsDate
    alMin: ${ today() }
    show if: users[0].ice_check
---
id: immigration history
question: |
  Immigration history
fields:
  - "Date of ${ ordinal(i) } entry into the U.S.": users[0].history[i].entry_date
    datatype: ThreePartsDate
    alMax: ${ today() }
  - "Have you left the U.S. since then?": users[0].history[i].exit_yes
    datatype: yesnoradio
  - "Date of exit": users[0].history[i].exit_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].history[i].exit_yes
  - "Manner of entry": users[0].history[i].manner_of_entry
    datatype: radio
    choices: 
      - Entry without inspection (EWI): ewi
      - Presented at port of entry: port
      - Paroled: paroled 
      - Entered with a visa: visa
      - Other: other
    required: False
  - "Explain 'other' status": users[i].history[i].manner_of_entry_other
    maxlength: 30
    show if: 
      variable: users[0].history[i].manner_of_entry
      is: "other"
  - "Who did you enter with?": users[0].history[i].enter_with 
    datatype: area
    rows: 2
    required: False  
  - "Any encounters with CBP/ICE?": users[0].history[i].encounters 
    datatype: yesnoradio
---
id: immigration history another
question: |
  Immigration history
subquestion: |
  You already entered so far:

  ${ users[0].history.table }
fields:
  - Did you have any additional entries?: users[0].history.there_is_another
    datatype: yesnoradio
---
code: |
  check_decade = False
  if not users[0].history[users[0].history.number_gathered()-1].exit_yes:
    check_decade = date_difference(starting=users[0].history[users[0].history.number_gathered()-1].entry_date, ending=today()).years >= 10
  asylum_date = format_date(users[0].history[users[0].history.number_gathered()-1].entry_date + date_interval(years=1))
  debug_deadline = date_difference(starting=today(), ending=asylum_date).days
  asylum_deadline = date_difference(starting=today(), ending=asylum_date).days >= 60
---
code: |
  users[0].history[i].entry_date
  users[0].history[i].complete = True
---
id: prior immigration encounters
question: |
  Prior Immigration encounters 
subquestion: |
  Check the boxes that apply even if you don't remember so you may provide any details.
fields: 
  - "Did you leave your country with a visa or exit permit?": users[0].immigration_1a_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1a_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1a_yes") == true || val("users[0].immigration_1a_yes") == "None"
  - "Have you applied for a visa or immigration status in a country other than the United States?": users[0].immigration_1b_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1b_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1b_yes") == true || val("users[0].immigration_1b_yes") == "None"
  - "Have you ever helped anyone to enter the U.S. illegally?": users[0].immigration_1c_yes
    datatype: yesnomaybe
  - note: |
      For example: did your children enter with you? Or did you pay money to have someone bring them across?
    show if: users[0].immigration_1c_yes
  - Details: users[0].immigration_1c_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1c_yes") == true || val("users[0].immigration_1c_yes") == "None"
  - "Have you ever attempted or entered the U.S. with false or borrowed documents?": users[0].immigration_1d_yes
    datatype: yesnomaybe
  - note: |
      For example: a green card, visa, driver's license, or birth certificate?
    show if: users[0].immigration_1d_yes
  - Details: users[0].immigration_1d_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1d_yes") == true || val("users[0].immigration_1d_yes") == "None"
  - "Have you ever given an immigration officer a different name or date of birth?": users[0].immigration_1e_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1e_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1e_yes") == true || val("users[0].immigration_1e_yes") == "None"
  - "Did an officer take your picture?": users[0].immigration_1f_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1f_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1f_yes") == true || val("users[0].immigration_1f_yes") == "None"
  - "Did an officer take your fingerprints?": users[0].immigration_1g_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1g_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1g_yes") == true || val("users[0].immigration_1g_yes") == "None"
  - "Did you sign any documents?": users[0].immigration_1h_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1h_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1h_yes") == true || val("users[0].immigration_1h_yes") == "None"
  - "Were you told that you were being removed or deported?": users[0].immigration_1i_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1i_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1i_yes") == true || val("users[0].immigration_1i_yes") == "None"
  - "Were you told that you could not come back for 3 years?": users[0].immigration_1j_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1j_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1j_yes") == true || val("users[0].immigration_1j_yes") == "None"
  - "Were you told that you could not come back for 5 years?": users[0].immigration_1k_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1k_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1k_yes") == true || val("users[0].immigration_1k_yes") == "None"
  - "Were you asked if you feared returning to your home country?": users[0].immigration_1l_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1l_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1l_yes") == true || val("users[0].immigration_1l_yes") == "None"
  - "At any moment during your encounter, did you request asylum?": users[0].immigration_1m_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1m_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1m_yes") == true || val("users[0].immigration_1m_yes") == "None"
  - "Were you given any documents ordering you to appear before an immigration judge?": users[0].immigration_1n_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1n_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1n_yes") == true || val("users[0].immigration_1n_yes") == "None"
  - "Do you have copies of any paperwork or documents you were given while detained?": users[0].immigration_1o_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1o_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1o_yes") == true || val("users[0].immigration_1o_yes") == "None"
  - "Did you enter the United States as a minor (under 18 years old)?": users[0].immigration_1p_yes
    datatype: yesnomaybe
  - Details: users[0].immigration_1p_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1p_yes") == true || val("users[0].immigration_1p_yes") == "None"
  - "Were you designated an unaccompanied minor (UAC) by  Office of Refugee Resettlement (ORR)?": users[0].immigration_1q_yes
    datatype: yesnomaybe
  - note: | 
      **Note:** If unsure, ask: Did you spend time in a children's shelter? Review their documents to confirm.
  - Details: users[0].immigration_1q_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].immigration_1q_yes") == true || val("users[0].immigration_1q_yes") == "None"
---
id: prior immigration applications
question: |
  Prior Immigration applications
subquestion: |
  Check the boxes that apply even if you don't remember so you may provide any details.
fields:
  - "Have you or a spouse ever filed an application to change your immigration status or be granted immigration relief?": users[0].application_2a_yes
    datatype: yesnomaybe
  - Details: users[0].application_2a_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].application_2a_yes") == true || val("users[0].application_2a_yes") == "None"
  - "Has a parent ever filed an application to change your immigration status or be granted immigration relief?": users[0].application_2b_yes
    datatype: yesnomaybe
  - Details: users[0].application_2b_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].application_2b_yes") == true || val("users[0].application_2b_yes") == "None"
  - "Has a parent ever filed an application to change their immigration status or be granted immigration relief when you were a minor?": users[0].application_2c_yes
    datatype: yesnomaybe
  - Details: users[0].application_2c_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].application_2c_yes") == true || val("users[0].application_2c_yes") == "None"
  - "Has an aunt/uncle/grandparent ever filed an application for your parent when you were a minor?": users[0].application_2d_yes
    datatype: yesnomaybe
  - Details: users[0].application_2d_details
    datatype: area
    rows: 2
    label above field: True
    required: False
    js show if: |
      val("users[0].application_2d_yes") == true || val("users[0].application_2d_yes") == "None"
---
id: married question
question: |
  Are you or were you legally married?
fields:
  - no label: users[0].married
    datatype: yesnoradio
---
id: spouse details
question: |
  Marriage and spouse details
fields:
  - Date of marriage: users[0].marriage_date
    datatype: ThreePartsDate
    alMax: ${ today() }
  - Location of marriage: users[0].marriage_location
  - Spouse country of birth: users[0].marriage_birth_country
  - Spouse status: users[0].marriage_status
  - Have either of you been previously married?: users[0].marriage_previously
    datatype: yesnoradio
    required: False
  - Were you previously married?: users[0].user_marriage_previously
    datatype: yesnoradio
    show if: users[0].marriage_previously
  - Date of marriage: users[0].user_previous_marriage_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].user_marriage_previously
  - Date of divorce: users[0].user_previous_divorce_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].user_marriage_previously
  - Spouse previously married?: users[0].spouse_marriage_previously
    datatype: yesnoradio
    show if: users[0].marriage_previously
  - Date of marriage: users[0].spouse_previous_marriage_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].spouse_marriage_previously
  - Date of divorce: users[0].spouse_previous_divorce_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].spouse_marriage_previously
  - note: |
      **INTERVIEWER ONLY DO NOT READ ALOUD**
  - Are there any concerns of marriage fraud?: users[0].marriage_fraud
    datatype: yesnoradio
---
id: children
question: |
  Do you have any children?
fields:
  - no label: users[0].has_children
    datatype: yesnoradio
---
id: children details
question: |
  ${ capitalize(ordinal(i)) } child details
fields:
  - First name of child: users[0].children[i].name.first
  - Date of birth: users[0].children[i].birthdate
    datatype: BirthDate
    alMax: ${ today() }
  - Country of birth: users[0].children[i].country_of_birth
    input type: dropdown
    code: |
      uscis_countries_list()
  - Country of nationality?: users[0].children[i].country_of_nationality
    input type: dropdown
    code: |
      uscis_countries_list()    
  - Immigration status: users[0].children[i].immigration_status 
    datatype: radio
    choices:
      - USC
      - Parolee
      - Visitor
      - Student
      - No Status
      - Other immigration status (not listed above): other
  - Enter their immigration status: users[0].children[i].other_immigration_status
    maxlength: 27
    show if: 
      variable: users[0].children[i].immigration_status 
      is: "other"
  - Current location of this child: users[0].children[i].location
  - Relationship to child: users[0].children[i].relation
    datatype: radio
    choices:
      - Biological
      - Adopted
      - Stepchild
  - Are they married?: users[0].children[i].married
    datatype: yesnoradio
---
id: SIJS eligibility child
question: |
  SIJS eligibility for ${ users[0].children[i].name.full() }
fields: 
  - Prior to coming to the U.S, who did ${ users[0].children[i].name.first } live with?: users[0].children[i].sijs_lived_home
    datatype: area
    rows: 2
    label above field: True
  - Did ${ users[0].children[i].name.first } live with both parents?: users[0].children[i].sijs_parents
    datatype: yesnoradio
    label above field: True
  - If not both parents, why?: users[0].children[i].sijs_parents_why
    datatype: area 
    rows: 2
    show if: 
      variable: users[0].children[i].sijs_parents
      is: False
    label above field: True
  - Who does ${ users[0].children[i].name.first } live with now in the United States?: users[0].children[i].sijs_live_currently
    datatype: area
    rows: 2  
    label above field: True
  - Was ${ users[0].children[i].name.first } attending school in your home country before coming to the U.S.?: users[0].children[i].sijs_prior_school
    datatype: yesnoradio
    label above field: True
  - Where does ${ users[0].children[i].name.first }'s absent parent live now?: users[0].children[i].sijs_parents_live
    datatype: area
    rows: 2
    label above field: True
    required: False
  - How often does ${ users[0].children[i].name.first } talk to their absent parent?: users[0].children[i].sijs_parents_talk
    datatype: area
    rows: 2
    label above field: True
    required: False
  - Does the absent parent provide financial support for the child?: users[0].children[i].sijs_parents_financial
    datatype: yesnoradio
    label above field: True
    required: False
  - "Did the absent parent ever hit or use physical violence against ${ users[0].children[i].name.first }?": users[0].children[i].sijs_parents_violence
    datatype: yesnoradio
    label above field: True
    required: False
  - Details: users[0].children[i].sijs_parents_violence_details
    datatype: area
    rows: 2
    show if: users[0].children[i].sijs_parents_violence
    label above field: True
  - "Did the absent parent ever scream or use harsh words against ${ users[0].children[i].name.first }?": users[0].children[i].sijs_parents_language
    datatype: yesnoradio
    label above field: True
    required: False
  - Details: users[0].children[i].sijs_parents_language_details
    datatype: area
    rows: 2
    show if: users[0].children[i].sijs_parents_language
    label above field: True
---
id: additional children
question: |
  Additonal children
subquestion: |
  You already entered so far:

  ${ users[0].children.table }
fields:
  - Do you have another child?: users[0].children.there_is_another
    datatype: yesnoradio
---
code: |
  users[0].children[i].name.first
  if not users[0].children[i].married and users[0].children[i].age_in_years() < 21 and not (users[0].children[i].country_of_birth == "United States" or users[0].children[i].immigration_status == 'USC'):
    users[0].children[i].sijs_lived_home
  users[0].children[i].complete = True
---
id: other family 
question: |
  Does anyone in your family have status in the United States?
subquestion: |
  These would include extended family, stepparents, stepchildren, or parents of stepchildren.
fields:
  - no label: users[0].other_family_status
    datatype: yesnoradio
  - note: |
      List each family members names, relationship, and status.
    show if: users[0].other_family_status
  - Details: users[0].other_family_status_details
    datatype: area
    rows: 2
    show if: users[0].other_family_status
---
id: pending immigration case
question: |
  Pending immigration application/petition
subquestion: |
  Do your spouse, children, parents, grandparents, or siblings have any pending immigration applications/petitions? 
fields: 
  - no label: users[0].pending_immigration
    datatype: yesnoradio
  - note: |
      Provide the name, relationship, type of application, filed, date application was filed, whether 
      or not aplicant is included in the application of each family memeber with a pending application.
    show if: users[0].pending_immigration
  - Details: users[0].pending_immigration_details
    datatype: area
    rows: 2
    show if: users[0].pending_immigration
---
id: prior USC or LPR 
question: |
  Prior U.S. citizen or lawful permanent resident 
subquestion: |
  At the time of your birth, was a parent or grandparent a U.S. citizen or lawful permanent resident 
  (green card holder)?
fields:
  - no label: users[0].parents_status
    datatype: yesnoradio
---
id: military family
question: |
  U.S. military service
subquestion: |
  Has anyone in your immediate family ever served in the U.S. military? 
fields:
  - no label: users[0].military
    datatype: yesnoradio
  - note: |
      Provide the name, relationship, branch of service and current status (active, reserve, retired).
    show if: users[0].military
  - Details: users[0].military_details
    datatype: area
    rows: 2
    show if: users[0].military
---
id: criminal history
question: |
   Criminal history
subquestion: |
  If yes please describe when it happened, what happened, what the charges were and what was the outcome.
fields: 
  - "Have you, as an adult or juvenile, ever been stopped by the police?": users[0].criminal_3a_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3a_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3a_yes
  - "Have you ever been handcuffed, in a police car, or at a police station in the United States or any other country?": users[0].criminal_3b_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3b_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3b_yes
  - "Have you ever been fingerprinted or had your picture taken by the police (other than an immigration officer)?": users[0].criminal_3c_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3c_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3c_yes
  - "Have you ever been detained or taken to jail/prison anywhere in the U.S. or any other country?": users[0].criminal_3d_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3d_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3d_yes
  - "Have you ever been arrested for driving without a license?": users[0].criminal_3e_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3e_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3e_yes
  - "Have you ever received a DUI?": users[0].criminal_3f_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3f_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3f_yes
  - "Have you ever been to court in the United States or any other country?": users[0].criminal_3g_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3g_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3g_yes
  - "Do you now, or have you ever, used drugs or alcohol?": users[0].criminal_3h_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3h_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3h_yes
  - "Have you ever been involved or associated with any gangs, in the U.S. or any other country? Or accused of being involved with a gang?": users[0].criminal_3i_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3i_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3i_yes
  - "Have you ever been friends with or have family members who are known gang members, in the U.S. or any other country?": users[0].criminal_3j_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3j_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3j_yes
  - "Do you have any tattoos?": users[0].criminal_3k_yes
    datatype: yesnoradio
  - Details: users[0].criminal_3k_details
    datatype: area
    rows: 2
    show if: users[0].criminal_3k_yes
---
id: criminal history chart
question: |
  Criminal history details
subquestion: |
  If you have more than one incident, you can add more on another screen.
fields:
  - Date (usually arrest date): users[0].criminal[i].date 
    datatype: ThreePartsDate
    alMax: ${ today() }
  - Location: users[0].criminal[i].location 
    required: False
  - Charge: users[0].criminal[i].charge 
    required: False
  - Outcome (plea, conviction, acquittal, etc.): users[0].criminal[i].outcome 
  - Sentence: users[0].criminal[i].sentence 
    required: False
  - "What kind of lawyer represented you in court?": users[0].criminal[i].rep 
    datatype: radio
    choices:
      - Private attorney: lawyer
      - Public Defender: PD
---
id: additional criminal history
question: |
  Additonal criminal history
subquestion: |
  You already entered so far:

  ${ users[0].criminal.table }
fields:
  - Do you need to add another?: users[0].criminal.there_is_another
    datatype: yesnoradio
---
code: |
  users[0].criminal[i].date
  users[0].criminal[i].complete = True
---
code: |
  if users[0].criminal_3a_yes or users[0].criminal_3b_yes or users[0].criminal_3c_yes or users[0].criminal_3d_yes or users[0].criminal_3e_yes or users[0].criminal_3f_yes or users[0].criminal_3g_yes or users[0].criminal_3h_yes or users[0].criminal_3i_yes or users[0].criminal_3j_yes or users[0].criminal_3k_yes:
    users[0].criminal.there_are_any = True

  check_criminal_history = True
---    
id: education and employment 
question:
  Education and Employment  
fields:
  - What is the highest level of education you received?: users[0].education_level
  - What was your occupation in your home country?: users[0].occupation
    show if:
      code: |
        users[0].age_in_years() >= 14
  - Are you currently working in the U.S.?: users[0].currently_working
    datatype: yesnoradio
  - What is the name of the employer?: users[0].employer_name
    show if: users[0].currently_working
  - What is the job title?: users[0].employer_job
    show if: users[0].currently_working
  - When did you start working here?: users[0].employer_start_date
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].currently_working
  - Do you remember ever filing out Form I-9?: users[0].i9_form
    datatype: yesnoradio
    show if: users[0].currently_working
  - Could you proivde details on how you completed Form I-9?: users[0].i9_details
    required: False
    show if: users[0].i9_form
  - Have you ever used false or borrowed documents to work?: users[0].false_documents
    datatype: yesnoradio 
  - Describe the documents: users[0].false_documents_details
    datatype: area
    rows: 2
    show if: users[0].false_documents
---
id: claims to US citizenship 
question: |
  Claims to U.S. citizenship
fields: 
  - "Have you ever received public benefits in the U.S.?": users[0].citizenship_4a_yes
    datatype: yesnoradio
  - Details: users[0].citizenship_4a_details
    datatype: area
    rows: 2
    show if: users[0].citizenship_4a_yes
  - "Have you ever told anyone that you're a U.S. citizen, for example, to get a driver's license, to get a job, or for any other reason?": users[0].citizenship_4b_yes
    datatype: yesnoradio
  - Details: users[0].citizenship_4b_details
    datatype: area
    rows: 2
    show if: users[0].citizenship_4b_yes
  - "Have you ever used a U.S. citizen passport or another document?": users[0].citizenship_4c_yes
    datatype: yesnoradio
  - Details: users[0].citizenship_4c_details
    datatype: area
    rows: 2
    show if: users[0].citizenship_4c_yes
  - "Have you ever registered to vote or voted in the U.S.?": users[0].citizenship_4d_yes
    datatype: yesnoradio
  - Details: users[0].citizenship_4d_details
    datatype: area
    rows: 2
    show if: users[0].citizenship_4d_yes
  - "Have you ever served on a jury or received a jury summons in the U.S.?": users[0].citizenship_4e_yes
    datatype: yesnoradio
  - Details: users[0].citizenship_4e_details
    datatype: area
    rows: 2
    show if: users[0].citizenship_4e_yes
---
id: U VISA/VAWA
question: |
  U Visa/VAWA eligibility
fields:
  - "Have you ever been a victim of a crime in the U.S.?": users[0].uvisa_5a_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5a_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5a_yes
  - "Have you ever called the police to report a crime?": users[0].uvisa_5b_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5b_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5b_yes
  - "Have you witnessed a crime in the U.S.?": users[0].uvisa_5c_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5c_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5c_yes
  - "Has anyone hurt you in the United States?": users[0].uvisa_5d_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5d_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5d_yes
  - "Has anyone in your family been the victim of a crime in the U.S.?": users[0].uvisa_5e_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5e_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5e_yes
  - "Have you ever been physically, verbally, or emotionally hurt by a spouse, boyfriend, girlfriend, partner, parent, or child (e.g., hit, slapped, pushed, threatened, controlled, etc.)?": users[0].uvisa_5f_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5f_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5f_yes
  - "Has anyone in your family been physically, verbally, or emotionally hurt by a spouse, boyfriend, girlfriend, partner, parent, or child (e.g., hit, slapped, pushed, threatened, controlled, etc.)?": users[0].uvisa_5g_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5g_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5g_yes
  - "Have you ever collaborated as a witness with law enforcement in a criminal investigation or prosecution?": users[0].uvisa_5h_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5h_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5h_yes
  - "Have you ever been a plaintiff in a lawsuit against your employer (for example, union organizing or discrimination)?": users[0].uvisa_5i_yes
    datatype: yesnoradio
  - Details: users[0].uvisa_5i_details
    datatype: area
    rows: 2
    show if: users[0].uvisa_5i_yes
---
id: T VISA eligibility
question: |
  T Visa eligibility
fields:
  - "Did anyone bring you to the U.S. by force, or trick or deceive you into coming to the U.S.?": users[0].tvisa_6a_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6a_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6a_yes
  - "While you have been in the U.S., has anyone forced you to work or perform an activity against your will?": users[0].tvisa_6b_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6b_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6b_yes
  - "While you have been in the U.S., has anyone ever hired you to do work with no intent to pay you, or paying you very little?": users[0].tvisa_6c_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6c_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6c_yes
  - "While you have been in the U.S., have you been held prisoner or had your liberty restrained?": users[0].tvisa_6d_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6d_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6d_yes
  - "Have you ever had to provide a sex act in exchange for food, shelter, or water?": users[0].tvisa_6e_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6e_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6e_yes
  - "Have you ever had to provide labor in exchange for food, shelter, or water?": users[0].tvisa_6f_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6f_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6f_yes
  - "Has anyone ever threatened to hurt you or someone you know?": users[0].tvisa_6g_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6g_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6g_yes
  - "Has anyone ever threatened to call the police or immigration to report you?": users[0].tvisa_6h_yes
    datatype: yesnoradio
  - Details: users[0].tvisa_6h_details
    datatype: area
    rows: 2
    show if: users[0].tvisa_6h_yes
---
id: SIJS eligibility
question: |
  SIJS eligibility for ${ users[0].name.full() }
fields: 
  - Prior to coming to the U.S, who did you live with both in your home country?: users[0].sijs_lived_home
    datatype: area
    rows: 2
    label above field: True
  - Did you live with both of your parents?: users[0].sijs_parents
    datatype: yesnoradio
    label above field: True
  - If not both parents, why?: users[0].sijs_parents_why
    datatype: area 
    rows: 2
    show if: 
      variable: users[0].sijs_parents
      is: False
    label above field: True
  - Who do you live with in the United States?: users[0].sijs_live_currently
    datatype: area
    rows: 2  
    label above field: True
  - Were you attending school in your home country before coming to the U.S.?: users[0].sijs_prior_school
    datatype: yesnoradio
    label above field: True
  - Where do your parents or the absent parent live now?: users[0].sijs_parents_live
    datatype: area
    rows: 2
    required: False
  - How often do you talk to your absent parent?: users[0].sijs_parents_talk
    datatype: area
    rows: 2
    required: False
  - Does your absent parent provide financial support?: users[0].sijs_parents_financial
    datatype: yesnoradio
    required: False
  - "If both your parents are present in your life, is there any physical violence between your parents or did either of your parents hit you or any of your siblings?": users[0].sijs_parents_violence
    datatype: yesnoradio
    required: False
  - Details: users[0].sijs_parents_violence_details
    datatype: area
    rows: 2
    show if: users[0].sijs_parents_violence
    label above field: True
  - "If both your parents are present in your life, did both or either of your parents scream or use harsh words against you or your siblings?": users[0].sijs_parents_language
    datatype: yesnoradio
    required: False
  - Details: users[0].sijs_parents_language_details
    datatype: area
    rows: 2
    show if: users[0].sijs_parents_language
    label above field: True
---
id: NACARA eligibility
question: |
  NACARA eligibility
fields:
  - note: |
      Is one or both of your parents a national of El Salvador, Guatemala, or the former Soviet bloc countries such as Russia, 
      Latvia, Lithuania, Estonia, Albania, Bulgaria, Czechoslovakia, Hungary, Poland, Romania, Yugoslavia, or any state of the 
      former Yugoslavia?
  - no label: users[0].nacara_parents
    datatype: yesnoradio
  - Are any of your parents or your spouse a US citizen or Legal Permanent Resident (LPR)?: users[0].nacara_parent_spouse
    datatype: yesnoradio
    label above field: True
    show if: users[0].nacara_parents
  - Did this parent or spouse become a lawful permanent resident via NACARA?: users[0].nacara_lpr
    datatype: yesnoradio
    label above field: True
    js show if: |
      val("users[0].nacara_parents") == true || val("users[0].nacara_parent_spouse") == true
  - Details: users[0].nacara_lpr_details
    datatype: area
    rows: 2
    js show if: |
      (val("users[0].nacara_parents") == true || val("users[0].nacara_parent_spouse") == true) && val("users[0].nacara_lpr") == true
  - Have you been physically present in the U.S. for at least 7 years?: users[0].nacara_eligible
    datatype: yesnoradio
    label above field: True
    js show if: |
      val("users[0].nacara_parents") == true || val("users[0].nacara_parent_spouse") == true
  - Details: users[0].nacara_eligible_details
    datatype: area
    rows: 2
    js show if: |
      (val("users[0].nacara_parents") == true || val("users[0].nacara_parent_spouse") == true) && val("users[0].nacara_eligible") == true
---
id: LPR signpost 
question: |
  Are you a Lawful Permanent Resident (LPR)?
fields: 
  - no label: users[0].lpr_signpost
    datatype: yesnoradio
---
id: LPR questions 
question: |
  LPR cancellation eligibility
fields:
  - "Have you ever been convicted of a crime?": users[0].lpr_7b_yes
    datatype: yesnoradio
    required: False
    js show if: |
      val("users[0].criminal.there_are_any") == False
  - "Please list all convictions below, even if you received diversion, expungement, or post-conviction relief.": users[0].lpr_7b_details
    datatype: area
    required: False
    rows: 2
    label above field: True
    show if: users[0].lpr_7b_yes
  - "Have you been an LPR for at least five years?": users[0].lpr_7c_yes
    datatype: yesnoradio
  - Details: users[0].lpr_7c_details
    datatype: area
    rows: 2
    show if: users[0].lpr_7c_yes
  - "Have you lived in the United States for at least seven years after being admitted in any status?": users[0].lpr_7d_yes
    datatype: yesnoradio
  - Details: users[0].lpr_7d_details
    datatype: area
    rows: 2
    show if: users[0].lpr_7d_yes
  - "Have you ever been granted cancellation of removal, suspension of deportation, or 212(c) before?": users[0].lpr_7e_yes
    datatype: yesnoradio
  - Details: users[0].lpr_7e_details
    datatype: area
    rows: 2
    show if: users[0].lpr_7e_yes
continue button field: users[0].lpr_questions
---
id: Non-LPR signpost 
question: |
  Have you lived in the United States continuously for at least 10 years?
fields: 
  - no label: users[0].nonlpr_signpost
    datatype: yesnoradio
---
id: Non-LPR questions 
question: |
  Non-LPR cancellation eligibility
fields:
  - "Have you ever been convicted of a crime?": users[0].nonlpr_8b_yes
    datatype: yesnoradio
    required: False
    label above field: True
    js show if: |
      val("users[0].criminal.there_are_any") == False
  - "Please list all convictions below, even if you received diversion, expungement, or post-conviction relief.": users[0].nonlpr_8b_details
    datatype: area
    required: False
    label above field: True
    rows: 2
    show if: users[0].nonlpr_8b_yes
  - "Do you have a spouse, child (under 21), or parent (including a stepparent) who is a U.S. citizen or lawful permanent resident (LPR)?": users[0].nonlpr_8c_yes
    datatype: yesnoradio
    label above field: True
  - Details: users[0].nonlpr_8c_details
    datatype: area
    label above field: True
    rows: 2
    show if: users[0].nonlpr_8c_yes
  - "If you were to be deported, would your U.S. citizen or LPR spouse, child(ren), or parent(s) remain in the United States or go with you?": users[0].nonlpr_8d_yes
    datatype: yesnoradio
    label above field: True
    show if: users[0].nonlpr_8c_yes
  - Details: users[0].nonlpr_8d_details
    datatype: area
    label above field: True
    rows: 2
    show if: users[0].nonlpr_8d_yes
  - "Do your U.S. citizen or LPR spouse, child(ren), or parent(s) have medical conditions, special needs, circumstances in home country, family and community ties, or any other factors that would cause them “exceptional and extremely unusual hardship” if you were to be deported?": users[0].nonlpr_8e_yes
    datatype: yesnoradio
    label above field: True
    show if: users[0].nonlpr_8c_yes
  - Details: users[0].nonlpr_8e_details
    datatype: area
    label above field: True
    rows: 2
    show if: users[0].nonlpr_8e_yes
continue button field: users[0].nonlpr_questions
---
id: asylum eligibility
question: |
  Asylum eligibility
fields: 
  - Have you ever filed an asylum application?: users[0].asylum_application
    datatype: yesnoradio 
  - Did anyone help you prepare your application?: users[0].asylum_application_prep
    datatype: yesnoradio 
    show if: users[0].asylum_application
  - Where did you apply?: users[0].asylum_application_location
    datatype: area
    rows: 2
    show if: users[0].asylum_application
  - Have you ever been interviewed in relation to your asylum application?: users[0].asylum_interview
    datatype: yesnoradio 
    show if: users[0].asylum_application
  - Have you ever been told to appear in immigration court?: users[0].asylum_appear 
    datatype: yesnoradio 
    show if: users[0].asylum_application
  - Date of departure from country of origin: users[0].asylum_departure_date 
    datatype: ThreePartsDate
    alMax: ${ today() }
    show if: users[0].asylum_application
---
id: fear 
question: |
  Are you afraid of being hurt if you return to your native country?
fields:
  - no label: users[0].general_fear
    datatype: yesnoradio 
  - "Did something happen to you (or a family member) in your home country that forced you to leave?": users[0].general_fear_flee
    datatype: yesnoradio
    show if: users[0].general_fear
  - "What happened in your home country that made you leave?": users[0].past_persecution
    datatype: area
    rows: 2
    show if: users[0].general_fear_flee
---
id: hurt
question: |
  Has someone hurt you in the past?
subquestion: |
  In order to determine asylum eligbility prior to coming to the U.S. were you hurt in the past?
fields: 
  - no label: users[0].hurt_past
    datatype: yesnoradio 
  - Who hurt you and how did they hurt you?: users[0].hurt_past_who
    datatype: area
    rows: 2
    show if: users[0].hurt_past
  - Why do you think they hurt you?: users[0].hurt_past_details
    datatype: area
    rows: 2
    show if: users[0].hurt_past
  - In your opinion, why did they do this to you and not others?: users[0].hurt_past_self_details
    datatype: area
    rows: 2
    show if: users[0].hurt_past
---
id: fear of state 
question: |
  General fear and fear of state
subquestion: |
  These can be state/governemntal or non-governemntal representatives.
fields:
  - "Are you afraid of being hurt if you return to your native country?": users[0].general_fear
    datatype: yesnoradio
  - "Did something happen to you (or a family member) in your home country that forced you to leave?": users[0].general_fear_flee
    datatype: yesnoradio
    show if: users[0].general_fear
  - "What happened in your home country that made you leave?": users[0].past_persecution
    datatype: area
    rows: 2
    show if: users[0].general_fear_flee
  - "Are you afraid of government officials or government figures? (e.g. police, military, political party)?": users[0].state_fear_government
    datatype: yesnoradio
  - Details: users[0].state_fear_government_details
    datatype: area
    rows: 2
    show if: users[0].state_fear_government
  - "Are you afraid of non-governmental groups? (e.g. rival clan or ethnic group, death squad, rebel groups).": users[0].state_fear_non_government
    datatype: yesnoradio
  - Details: users[0].state_fear_non_government_details
    datatype: area
    rows: 2
    show if: users[0].state_fear_non_government
  - "If you fear a non-governmental entity, could you seek government protection? If not, why not?": users[0].fear_protection_non_govt
    datatype: yesnoradio
  - Details: users[0].fear_protection_non_govt_details
    datatype: area
    rows: 2
    show if: users[0].fear_protection_non_govt
  - "Before coming to the United States, did you try to live in another part of your home country? If so, why didn't you stay there? If not, why not?": users[0].internal_relocation_attempt
    datatype: yesnoradio
  - Details: users[0].internal_relocation_attempt_details
    datatype: area
    rows: 2
    show if: users[0].internal_relocation_attempt
  - "Would it be reasonable to move to another part of your home country? If not, why not?": users[0].internal_relocation_reasonable
    datatype: yesnoradio
  - Details: users[0].internal_relocation_reasonable_details
    datatype: area
    rows: 2
    show if: users[0].internal_relocation_reasonable
  - "How and for what reasons do you think you might be harmed in the future?": users[0].future_persecution_reasons
    datatype: area
    rows: 2
  - "How would the person or group you fear find you? How would they know you are back?": users[0].future_persecution_find
    datatype: area
    rows: 2
  - "Have you or your family members received threats since leaving the country? If so, please provide details.": users[0].future_persecution_threats
    datatype: yesnoradio
  - Details: users[0].future_persecution_threats_details
    datatype: area
    rows: 2
    show if: users[0].future_persecution_threats
  - "Do you know of other people in your situation who have been harmed? If so, please provide details.": users[0].future_persecution_others_yes
    datatype: yesnoradio
  - Details: users[0].future_persecution_others_details
    datatype: area
    rows: 2
    show if: users[0].future_persecution_others_yes
--- 
id: finishing up
question: |
  Additional asylum eligbility questions
fields: 
  - "Have you ever been arrested for, charged with, or convicted of a crime in another country?": users[0].finishing_crime_yes
    datatype: yesnoradio
  - Details: users[0].finishing_crime_details
    datatype: area
    rows: 2
    show if: users[0].finishing_crime_yes
  - "Have you ever persecuted or physically hurt another person, even if you did not want to?": users[0].finishing_hurt_yes
    datatype: yesnoradio
  - Details: users[0].finishing_hurt_details
    datatype: area
    rows: 2
    show if: users[0].finishing_hurt_yes
  - "Have you ever been a police officer or a member of a military, paramilitary, or any other group that uses violence?": users[0].finishing_military_yes
    datatype: yesnoradio
  - Details: users[0].finishing_military_details
    datatype: area
    rows: 2
    show if: users[0].finishing_military_yes
  - "Have you ever arrested, detained, interrogated, or physically hurt another person, including as part of your official duties?": users[0].finishing_duties_yes
    datatype: yesnoradio
  - Details: users[0].finishing_duties_details
    datatype: area
    rows: 2
    show if: users[0].finishing_duties_yes
  - "Did you travel through any other countries after leaving your home country?": users[0].finishing_travel_countries_yes
    datatype: yesnoradio
  - "Provide details of which countries.": users[0].finishing_travel_countries
    datatype: area
    rows: 2
    show if: users[0].finishing_travel_countries_yes
  - "Did you live in any of those countries for longer than three months?": users[0].finishing_long_stay_yes
    datatype: yesnoradio
  - Details: users[0].finishing_long_stay_details
    datatype: area
    rows: 2
    show if: users[0].finishing_long_stay_yes
  - "Did you have any kind of legal status or work authorization in another country, for example, citizenship, residency, or temporary humanitarian protection?": users[0].finishing_legal_status_yes
    datatype: yesnoradio
  - Details: users[0].finishing_legal_status_details
    datatype: area
    rows: 2
    show if: users[0].finishing_legal_status_yes
---
###################### DOWNLOAD SECTION #########################
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
id: get docs screen
event: get_docs_screen
question: |
  Download the completed screener
subquestion: |

  ${ users[0].comp_legal_screener.as_pdf() }

  ${ action_button_html(url_of("new_session"), label="Start a new application", icon="square-plus", size="lg", color="secondary") }
---
################ DOCUMENT #######################
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[comp_legal_screener], filename="comp_legal_screener.pdf", title="Comprehensive Legal Screener")
---
objects:
  - users[i].comp_legal_screener: ALDocument.using(title="Comprehensive Legal Screener", filename="Comprehensive Legal Screener", has_addendum=False)
---
code: |
  users[i].comp_legal_screener.enabled = True
---
attachment:
  name: comp_legal_screener
  filename: comp_legal_screener
  variable name: users[i].comp_legal_screener[j]
  skip undefined: True
  docx template file: Comp_legal_screener.docx
---
id: immigration history table
table: users[0].history.table
rows: users[0].history
columns:
  - Date of entry: row_item.entry_date.format("MM/dd/yyyy")
  - Date of exit: row_item.exit_date.format("MM/dd/yyyy") if row_item.exit_yes else "present"
  - Manner of entry: row_item.manner_of_entry
  - Edit to change details: |
      action_button_html(url_action(row_item.attr_name("entry_date")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True
---
id: children table
table: users[0].children.table
rows: users[0].children
columns:
  - Name: row_item.name
  - DOB: row_item.birthdate.format("MM/dd/yyyy")
  - Edit to change details: |
      action_button_html(url_action(row_item.attr_name("name.first")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True
---
id: criminal history table
table: users[0].criminal.table
rows: users[0].criminal
columns:
  - Date: row_item.date.format("MM/dd/yyyy")
  - Outcome: row_item.outcome
  - Edit to change details: |
      action_button_html(url_action(row_item.attr_name("date")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True
---